

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  
    <meta name="description" content="100:00:00,000 –&gt; 00:00:05,000In this video, I’m going to talk about Request to Send Clear to Send, a wireless media access control algorithm. 200:00:05,000 –&gt; 00:00:13,000Request to Send Clear t">
<meta property="og:type" content="article">
<meta property="og:title" content="CS144 NetworkP1047 10Wireless">
<meta property="og:url" content="http://example.com/2025/10/23/CS144-networkP1047-10Wireless/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="100:00:00,000 –&gt; 00:00:05,000In this video, I’m going to talk about Request to Send Clear to Send, a wireless media access control algorithm. 200:00:05,000 –&gt; 00:00:13,000Request to Send Clear t">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2025-10-23T14:13:16.920Z">
<meta property="article:modified_time" content="2025-10-23T14:14:42.228Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary_large_image">
  
  
  
  <title>CS144 NetworkP1047 10Wireless - Hexo</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 8.0.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Fluid</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="CS144 NetworkP1047 10Wireless"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2025-10-23 22:13" pubdate>
          2025年10月23日 晚上
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          650 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          6 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">CS144 NetworkP1047 10Wireless</h1>
            
            
              <div class="markdown-body">
                
                <p>1<br>00:00:00,000 –&gt; 00:00:05,000<br>In this video, I’m going to talk about Request to Send Clear to Send, a wireless media access control algorithm.</p>
<p>2<br>00:00:05,000 –&gt; 00:00:13,000<br>Request to Send Clear to Send or RTSCTS uses a short sequence of control packets to determine whether or not it’s safe to transmit data.</p>
<p>3<br>00:00:13,000 –&gt; 00:00:23,000<br>I’m showing three nodes, A, B, and C, where A can hear B and B can hear C, etc. but A and C cannot hear each other.</p>
<p>4<br>00:00:24,000 –&gt; 00:00:33,000<br>And so in an RTSCTS exchange, rather than just immediately send a data packet to B like you do in say, CSMA-CA, A, CNUS, Transmit,</p>
<p>5<br>00:00:33,000 –&gt; 00:00:42,000<br>instead the first step is that A sends what’s called a Request to Send packet or RTS.</p>
<p>6<br>00:00:42,000 –&gt; 00:00:49,000<br>There’s a short control packet and an ASC-B can I send you a packet of this duration, say?</p>
<p>7<br>00:00:50,000 –&gt; 00:01:03,000<br>If B successfully receives the RTS and it believes that it’s possible for it to receive, for example, it doesn’t think anyone else can be transmitting nearby, then it can respond with a clear to Send, a CTS.</p>
<p>8<br>00:01:03,000 –&gt; 00:01:07,000<br>And it can tell A you are clear to send for this period of time.</p>
<p>9<br>00:01:07,000 –&gt; 00:01:15,000<br>And the key thing here is that C can overhear this clear to Send packet and know that B is going to be receiving data.</p>
<p>10<br>00:01:15,000 –&gt; 00:01:19,000<br>Because B knows that B is going to be receiving data, it knows it shouldn’t transmit during that time.</p>
<p>11<br>00:01:19,000 –&gt; 00:01:28,000<br>And so this clear to Send can prevent C from transmitting and therefore prevent, in theory, the hidden terminal problem that we see in CSMA-CA networks.</p>
<p>12<br>00:01:28,000 –&gt; 00:01:38,000<br>So next, A sends the data followed by B sending an acknowledgement back.</p>
<p>13<br>00:01:38,000 –&gt; 00:01:45,000<br>So this is the basic RTS-CTS exchange, and RTS followed by CTS followed by data followed by an AC.</p>
<p>14<br>00:01:45,000 –&gt; 00:01:49,000<br>Now of course, if A sends an RTS to B and doesn’t hear a clear to Send, then it can always retry later.</p>
<p>15<br>00:01:49,000 –&gt; 00:01:55,000<br>There’s standard back-off approaches that you see, for example, exponential back-off that you see in data transmissions in CSMA-CA.</p>
<p>16<br>00:01:55,000 –&gt; 00:02:06,000<br>And so the point here is it’s not that RTS-CTS has a lower probability of, say, the hidden terminal problem, but rather what it’s doing is it’s pushing that problem to the control packet exchange.</p>
<p>17<br>00:02:06,000 –&gt; 00:02:20,000<br>For example, it very well be that ANC tried to simultaneously transmit an RTS and that causes a collision, but this won’t appear as a data packet loss from A to B.</p>
<p>18<br>00:02:20,000 –&gt; 00:02:23,000<br>Instead, it’ll cause just additional RTS packets.</p>
<p>19<br>00:02:23,000 –&gt; 00:02:41,000<br>RTS-CTS is pushing losses and collisions to the control packet exchange.</p>
<p>20<br>00:02:41,000 –&gt; 00:02:44,000<br>So let’s go back to the problems of CSMA-CA.</p>
<p>21<br>00:02:44,000 –&gt; 00:02:51,000<br>Hidden terminals, exposed terminals, and collision or low SNR. So you can ask one by one whether or not RTS-CTS helps or solves these problems.</p>
<p>22<br>00:02:51,000 –&gt; 00:03:01,000<br>So first, hidden terminals. RTS-CTS can’t solve this problem. It’s always possible, for example, that RTS aren’t heard, CTS aren’t heard.</p>
<p>23<br>00:03:01,000 –&gt; 00:03:17,000<br>But for example, we have B sending a CTS to A, but some other notice transmitting and so C ends up not hearing it.</p>
<p>24<br>00:03:17,000 –&gt; 00:03:24,000<br>So it’s possible that hidden terminals will occur, but RTS-CTS greatly reduces them by having this clear to SNPAC and clearing the channel around receiver.</p>
<p>25<br>00:03:24,000 –&gt; 00:03:29,000<br>So for the most part, it doesn’t solve it, but it greatly helps.</p>
<p>26<br>00:03:29,000 –&gt; 00:03:43,000<br>So how about exposed terminals? So recall exposed terminals are when we have a node here, let’s say C.</p>
<p>27<br>00:03:43,000 –&gt; 00:03:50,000<br>So B wants to transmit to A, C wants to transmit to D, and C won’t transmit because it hears B transmitting.</p>
<p>28<br>00:03:50,000 –&gt; 00:03:58,000<br>So in theory, it’s very well possible that C could transmit to D. So B is going to send an RTS, then there will be a CTS.</p>
<p>29<br>00:03:58,000 –&gt; 00:04:04,000<br>C doesn’t hear the RTS, there doesn’t hear the CTS, so it knows it can transmit. But in practice, this doesn’t really work.</p>
<p>30<br>00:04:04,000 –&gt; 00:04:12,000<br>The reason being that C doesn’t want to transmit to D because A is going to send the acknowledgement.</p>
<p>31<br>00:04:12,000 –&gt; 00:04:17,000<br>And so generally RTS-CTS won’t really help you with exposed terminals.</p>
<p>32<br>00:04:17,000 –&gt; 00:04:27,000<br>So how about collision or low SNR? Well given that RTS-CTS can reduce collisions hidden terminals, it can help with collision or low SNR.</p>
<p>33<br>00:04:27,000 –&gt; 00:04:34,000<br>In a sense of when data losses do occur, it’s more likely that they’re low SNR, that there’s a probability that their collision is lower.</p>
<p>34<br>00:04:34,000 –&gt; 00:04:37,000<br>It can’t solve the problem, but it can help.</p>
<p>35<br>00:04:42,000 –&gt; 00:04:50,000<br>So given that RTS-CTS can help and it can prevent really help with hidden terminal problems, which is pretty common, especially in heavily used networks, why don’t we use it?</p>
<p>36<br>00:04:50,000 –&gt; 00:04:54,000<br>Why is it the most Wi-Fi systems today use CSMACA?</p>
<p>37<br>00:04:54,000 –&gt; 00:05:02,000<br>So the reason is overhead. So recall, we have this packet exchange. We have an RTS, then we have a CTS.</p>
<p>38<br>00:05:02,000 –&gt; 00:05:08,000<br>So the question is how long do these packets take? Well, they’re little control packets.</p>
<p>39<br>00:05:08,000 –&gt; 00:05:15,000<br>But still, just the way Wi-Fi, for example, works is that these control packets actually have to take a significant amount of time.</p>
<p>40<br>00:05:15,000 –&gt; 00:05:27,000<br>The reason being that unlike a data packet, which you can send at a really high speed, just to the destination knowing that it’s going to have a high signal to noise ratio, so you can use dense constellation, you can send it really, really fast.</p>
<p>41<br>00:05:27,000 –&gt; 00:05:31,000<br>These control packets need to be heard by everyone. They always have to be sent at a very low speed.</p>
<p>42<br>00:05:31,000 –&gt; 00:05:37,000<br>So wireless physical errors are made from speeds, and you always have to send these control packets at the lowest speed.</p>
<p>43<br>00:05:38,000 –&gt; 00:05:47,000<br>And so if you look, let’s say this is just this some data student of mine collected just using 802.11b, so it has four speeds, 1, 2, 5.5, and 11 megabits per second.</p>
<p>44<br>00:05:47,000 –&gt; 00:06:00,000<br>And this was the observed throughput in megabits per second, of data systems throughput observed up at the network layer, so you’re exchanging these frames.</p>
<p>45<br>00:06:01,000 –&gt; 00:06:09,000<br>And so you see if you’re exchanging data frames at 1 megabit per second, this small control exchange is not a big deal, it’s just 4%.</p>
<p>46<br>00:06:09,000 –&gt; 00:06:14,000<br>Because these control packets, the actual data packets themselves, are being sent at 1 megabits, these control packets are small.</p>
<p>47<br>00:06:14,000 –&gt; 00:06:21,000<br>But as the data rate goes up, if the data packets get shorter and shorter in times, they’re faster and faster, the overhead goes up.</p>
<p>48<br>00:06:21,000 –&gt; 00:06:25,000<br>These small control packets become a larger and larger fraction of the airtime.</p>
<p>49<br>00:06:25,000 –&gt; 00:06:39,000<br>The point in which if you’re transmitting at 11 megabits per second, you can get about 5.89 megabits per second out of CSMA, about 4.42 out of RTSCTS, this is a 25% overhead, so you’re reducing the throughput of your network by a quarter using RTSCTS.</p>
<p>50<br>00:06:39,000 –&gt; 00:06:45,000<br>And so if you don’t have collisions, if you’re not having hidden terminals, the network is idle, you’re taking a big hit.</p>
<p>51<br>00:06:46,000 –&gt; 00:06:57,000<br>So one approach people have talked about is that if you see very few losses, things are working great use CSMA, but then if you start seeing collisions, start seeing losses, then switch over to RTSCTS to get better arbitration.</p>
<p>52<br>00:06:57,000 –&gt; 00:07:01,000<br>So there’s been some research on this, but generally speaking, people often just use CSMA.</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>CS144 NetworkP1047 10Wireless</div>
      <div>http://example.com/2025/10/23/CS144-networkP1047-10Wireless/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>John Doe</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2025年10月23日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2025/10/23/CS144-networkP1037-9Wireless/" title="CS144 NetworkP1037 9Wireless">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">CS144 NetworkP1037 9Wireless</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2025/10/23/CS144-networkP1027-8Wireless/" title="CS144 NetworkP1027 8Wireless">
                        <span class="hidden-mobile">CS144 NetworkP1027 8Wireless</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
