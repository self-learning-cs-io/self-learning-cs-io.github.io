

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  
    <meta name="description" content="100:00:00,000 –&gt; 00:00:07,000In this video, we’ll look at some common attacks that can be performed on layer 3 or IP networks. 200:00:07,000 –&gt; 00:00:10,000We will look at three common types of">
<meta property="og:type" content="article">
<meta property="og:title" content="CS144 NetworkP1168 3Layer3Attacks">
<meta property="og:url" content="http://example.com/2025/10/23/CS144-networkP1168-3Layer3Attacks/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="100:00:00,000 –&gt; 00:00:07,000In this video, we’ll look at some common attacks that can be performed on layer 3 or IP networks. 200:00:07,000 –&gt; 00:00:10,000We will look at three common types of">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2025-10-23T14:13:16.929Z">
<meta property="article:modified_time" content="2025-10-23T14:13:54.943Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary_large_image">
  
  
  
  <title>CS144 NetworkP1168 3Layer3Attacks - Hexo</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 8.0.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Fluid</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="CS144 NetworkP1168 3Layer3Attacks"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2025-10-23 22:13" pubdate>
          2025年10月23日 晚上
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          830 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          7 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">CS144 NetworkP1168 3Layer3Attacks</h1>
            
            
              <div class="markdown-body">
                
                <p>1<br>00:00:00,000 –&gt; 00:00:07,000<br>In this video, we’ll look at some common attacks that can be performed on layer 3 or IP networks.</p>
<p>2<br>00:00:07,000 –&gt; 00:00:10,000<br>We will look at three common types of layer 3 attack.</p>
<p>3<br>00:00:10,000 –&gt; 00:00:17,000<br>It might surprise you to see how simple these attacks are and you might be left wondering why we don’t see even more attacks than we do.</p>
<p>4<br>00:00:17,000 –&gt; 00:00:22,000<br>The first type of attack uses ICMP, the Internet Control Message Protocol.</p>
<p>5<br>00:00:22,000 –&gt; 00:00:28,000<br>Recall that ICMP is used to convey information from the network back to the source, telling it how the network is doing.</p>
<p>6<br>00:00:28,000 –&gt; 00:00:35,000<br>For example, a router can send a TTL expired message back to the source to tell it that a TTL was decremented to zero.</p>
<p>7<br>00:00:35,000 –&gt; 00:00:44,000<br>Or a router might use ICMP to tell the source host that a destination was unreachable, which means the router has no entry for the destination in its forwarding table.</p>
<p>8<br>00:00:45,000 –&gt; 00:00:52,000<br>Another type of ICMP message tells the source to send its messages via another router. I’ll explain how it works in the next slide.</p>
<p>9<br>00:00:52,000 –&gt; 00:00:57,000<br>There are lots of types of attack that use BGP and we’ll look at a couple of them here.</p>
<p>10<br>00:00:57,000 –&gt; 00:01:03,000<br>The first is called BGP hijacking and sometimes it’s just called IP hijacking.</p>
<p>11<br>00:01:03,000 –&gt; 00:01:14,000<br>BGP attacks take advantage of the fact that neighboring ISPs trust one another to provide accurate information about the AS path to follow in order to reach a destination prefix.</p>
<p>12<br>00:01:14,000 –&gt; 00:01:22,000<br>When two BGP peers start up, they create a TCP session over which they pass route advertisements and withdrawals.</p>
<p>13<br>00:01:23,000 –&gt; 00:01:29,000<br>Once the session is initiated, they trust each other to provide the true information about paths.</p>
<p>14<br>00:01:29,000 –&gt; 00:01:41,000<br>If an ISP is badly behaved or if someone manages to break into the TCP session and massagerade as a legitimate ISP, then it is quite easy to redirect traffic, for example.</p>
<p>15<br>00:01:41,000 –&gt; 00:01:47,000<br>An ISP can advertise a prefix belonging to someone else capturing their traffic.</p>
<p>16<br>00:01:47,000 –&gt; 00:01:59,000<br>Or an ISP can advertise an invalid AS path sending the IP traffic to a non-existent destination where it is dropped, creating what is called a black hole for the traffic.</p>
<p>17<br>00:01:59,000 –&gt; 00:02:09,000<br>And because BGP routers only appear with neighboring BGP routers, the most likely way for a BGP attack to happen is when an ISP is badly behaved.</p>
<p>18<br>00:02:09,000 –&gt; 00:02:19,000<br>It is quite hard for an attacker to persuade a BGP router to start a session with it, the routers are hard coded to only talk to particular peers.</p>
<p>19<br>00:02:19,000 –&gt; 00:02:26,000<br>However, on occasion, an attacker will manage to take over an ongoing TCP session without either party knowing.</p>
<p>20<br>00:02:26,000 –&gt; 00:02:30,000<br>We’ll explore how that might work in a later video.</p>
<p>21<br>00:02:31,000 –&gt; 00:02:41,000<br>Another closely related BGP attack is when an ISP inserts a more specific prefix to divert just a portion of an address space.</p>
<p>22<br>00:02:41,000 –&gt; 00:02:49,000<br>Again, this requires the attacker to masquerade as an ISP or to take over a BGP TCP session.</p>
<p>23<br>00:02:49,000 –&gt; 00:02:55,000<br>Let’s first see how a legitimate ICMP reader at works, then we’ll look at how an attacker can exploit it.</p>
<p>24<br>00:02:56,000 –&gt; 00:03:01,000<br>Alice is connected to her company’s network, which is connected to the public internet via router.</p>
<p>25<br>00:03:01,000 –&gt; 00:03:05,000<br>Alice wants to send a packet to her colleague Bob, who works at the same company.</p>
<p>26<br>00:03:05,000 –&gt; 00:03:08,000<br>They are connected via the company’s private network.</p>
<p>27<br>00:03:08,000 –&gt; 00:03:12,000<br>Alice’s computer is configured with router 1 as the default router.</p>
<p>28<br>00:03:12,000 –&gt; 00:03:22,000<br>In other words, packets destined for a different subnet will be sent via router 1, but actually her packets to Bob should really go via router 2 instead.</p>
<p>29<br>00:03:22,000 –&gt; 00:03:29,000<br>When the packet arrives to router 1, it notices that the packet is routed back to the interface it arrived on.</p>
<p>30<br>00:03:29,000 –&gt; 00:03:33,000<br>This tells router 1 that Alice sent the packet to the wrong router.</p>
<p>31<br>00:03:33,000 –&gt; 00:03:36,000<br>Router 1 forwards the packet to router 2.</p>
<p>32<br>00:03:36,000 –&gt; 00:03:45,000<br>And then sends an ICMP reader a message to Alice to tell her to send packets to Bob via router 2 in future.</p>
<p>33<br>00:03:45,000 –&gt; 00:03:49,000<br>Alice’s computer adds a new routing entry in its local routing table.</p>
<p>34<br>00:03:49,000 –&gt; 00:03:55,000<br>Next time Alice has a packet to Bob, her computer sends it to router 2 instead.</p>
<p>35<br>00:03:55,000 –&gt; 00:04:03,000<br>This is how ICMP reader X are supposed to work, and all is good in this particular example.</p>
<p>36<br>00:04:03,000 –&gt; 00:04:06,000<br>Until an attacker comes along.</p>
<p>37<br>00:04:06,000 –&gt; 00:04:16,000<br>The attacker can send an ICMP reader a message to Alice to tell her to route packets to prefix a via the attacker’s computer instead.</p>
<p>38<br>00:04:16,000 –&gt; 00:04:23,000<br>And so when Alice sends a packet to Bob, her computer sends it to the attacker instead.</p>
<p>39<br>00:04:23,000 –&gt; 00:04:29,000<br>The attacker might choose to drop the packet, denying Alice from being able to communicate with Bob,</p>
<p>40<br>00:04:29,000 –&gt; 00:04:37,000<br>or the attacker might look at the packet before forwarding it to Bob, creating a man in the middle attack.</p>
<p>41<br>00:04:37,000 –&gt; 00:04:43,000<br>BGP attacks exploit one or more security vulnerabilities in BGP.</p>
<p>42<br>00:04:43,000 –&gt; 00:04:49,000<br>The first vulnerability is that an AS can advertise IP addresses that it doesn’t own.</p>
<p>43<br>00:04:49,000 –&gt; 00:04:56,000<br>This means it can advertise IP addresses that belong to another AS, and therefore creates curious problems.</p>
<p>44<br>00:04:56,000 –&gt; 00:05:00,000<br>As you can imagine, this is a major vulnerability in BGP.</p>
<p>45<br>00:05:00,000 –&gt; 00:05:04,000<br>An AS cannot tell if an advertisement is legitimate or not.</p>
<p>46<br>00:05:04,000 –&gt; 00:05:08,000<br>Furthermore, an AS cannot verify that an AS path is correct.</p>
<p>47<br>00:05:08,000 –&gt; 00:05:18,000<br>There is no way for a BGP router to know if the sequence of AS is leading to an advertised prefix actually leads to the correct destination or not.</p>
<p>48<br>00:05:18,000 –&gt; 00:05:23,000<br>ISPs exchange BGP messages over a regular TCP session.</p>
<p>49<br>00:05:23,000 –&gt; 00:05:29,000<br>If an attacker is able to take over the TCP session, or inject packets into the session undetected,</p>
<p>50<br>00:05:29,000 –&gt; 00:05:37,000<br>then it can cause incorrect AS paths to be advertised, and can hijack portions of the address space.</p>
<p>51<br>00:05:37,000 –&gt; 00:05:50,000<br>One thing that is very surprising to many people that is even today, almost any ISP can bring down the internet by advertising bad routes, either accidentally or maliciously.</p>
<p>52<br>00:05:50,000 –&gt; 00:05:56,000<br>Let’s look at some famous cases of when BGP problems caused huge problems in the internet.</p>
<p>53<br>00:05:56,000 –&gt; 00:06:04,000<br>Perhaps the most celebrated case happened in 2008 when Pakistan Telecom tried to block access to YouTube inside Pakistan.</p>
<p>54<br>00:06:04,000 –&gt; 00:06:12,000<br>Instead of making local changes, the ISP inadvertently propagated false BGP advertisements throughout the internet.</p>
<p>55<br>00:06:12,000 –&gt; 00:06:18,000<br>In fact, many thousands of routing entries were injected into the internet routing system in just a few minutes.</p>
<p>56<br>00:06:18,000 –&gt; 00:06:25,000<br>Almost the entire internet melted down, with YouTube being effectively incapacitated for several hours.</p>
<p>57<br>00:06:26,000 –&gt; 00:06:34,000<br>In 2004, an ISP in Malaysia called Data1 is believed to have mounted a malicious attack on Yahoo to try and block it.</p>
<p>58<br>00:06:34,000 –&gt; 00:06:44,000<br>All the way from Malaysia, they were able to easily hijack two of Yahoo’s Santa Clara prefixes, making Yahoo’s data centers in operable.</p>
<p>59<br>00:06:44,000 –&gt; 00:06:54,000<br>In 2003, Spammers deliberately hijacked a block of IP addresses allocated Northrop Grownham, a large US-based security contractor for the government.</p>
<p>60<br>00:06:54,000 –&gt; 00:07:01,000<br>Once they had hijacked a portion of the IP address space, they used the addresses to launch huge amounts of Spam.</p>
<p>61<br>00:07:01,000 –&gt; 00:07:13,000<br>And in 2004, TETNet, a Turkish ISP, sent full BGP routing tables announcing to everyone in the world that Turkey is the best path to everywhere in the internet.</p>
<p>62<br>00:07:13,000 –&gt; 00:07:20,000<br>All of a sudden, almost the entire internet tried to route via Turkey, and you can imagine what chaos it created.</p>
<p>63<br>00:07:20,000 –&gt; 00:07:23,000<br>Most of the internet didn’t work for hours.</p>
<p>64<br>00:07:24,000 –&gt; 00:07:35,000<br>A similar problem almost happened in 2008 when CTPC in Brazil sent full BGP routing tables that would have hijacked almost every carrier’s IP address block.</p>
<p>65<br>00:07:35,000 –&gt; 00:07:39,000<br>Luckily, a BGP monitoring system noticed just in time.</p>
<p>66<br>00:07:39,000 –&gt; 00:07:44,000<br>Many people believed it was a malicious attack aimed at blocking Yahoo.</p>
<p>67<br>00:07:44,000 –&gt; 00:07:51,000<br>There are many, many more that happen every day, mostly too small to make the headlines, but some are very large.</p>
<p>68<br>00:07:52,000 –&gt; 00:07:59,000<br>The network is almost as vulnerable today as it was in 2004, with very few new security improvements.</p>
<p>69<br>00:08:01,000 –&gt; 00:08:05,000<br>One ISP can hijack the address block of another very easily.</p>
<p>70<br>00:08:05,000 –&gt; 00:08:17,000<br>Consider Alice in AS1 sending her packets to Bob, who is attached to prefix A, somewhere across the internet, on the right hand side, in AS3. Many AS is away.</p>
<p>71<br>00:08:17,000 –&gt; 00:08:26,000<br>Alice’s neighboring AS2 advertises correctly that the best path to Bob in AS3 is via AS2.</p>
<p>72<br>00:08:31,000 –&gt; 00:08:34,000<br>The attacker has a different idea.</p>
<p>73<br>00:08:34,000 –&gt; 00:08:40,000<br>The attacker is able to take over and control the BGP router in ASEvil.</p>
<p>74<br>00:08:41,000 –&gt; 00:08:49,000<br>Once the attacker has control of the BGP sessions between ASEvil and AS2, it can advertise new false AS paths.</p>
<p>75<br>00:08:49,000 –&gt; 00:08:59,000<br>For example, it can advertise a path saying that the 16-bit prefix 171.64 can be reached via ASEvil instead.</p>
<p>76<br>00:09:00,000 –&gt; 00:09:07,000<br>AS1 has no way of knowing that this is a lie, and so might start routing traffic to ASEvil instead.</p>
<p>77<br>00:09:08,000 –&gt; 00:09:18,000<br>The attacker might choose to drop all the packets, making it impossible for Alice to talk to Bob, or the attacker might establish a man in the middle attack without Alice or Bob knowing.</p>
<p>78<br>00:09:20,000 –&gt; 00:09:27,000<br>If the attacker doesn’t want to arouse too much suspicion, it doesn’t have to take over the whole of that 16-bit prefix.</p>
<p>79<br>00:09:28,000 –&gt; 00:09:39,000<br>For example, if instead the attacker injects a 24-bit prefix 171.64.74, then only a portion of the traffic will be diverted via the attackers AS.</p>
<p>80<br>00:09:40,000 –&gt; 00:09:51,000<br>All of the attacks on BGP that I showed you require the attacker to first compromise one AS, then use the trust between AS’s to inject false advertisements into the other AS’s.</p>
<p>81<br>00:09:51,000 –&gt; 00:10:02,000<br>But what if the attacker can insert itself in between the two BGP peers without them knowing this would allow it to inject false routes without anyone knowing? That’s doubly scary.</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>CS144 NetworkP1168 3Layer3Attacks</div>
      <div>http://example.com/2025/10/23/CS144-networkP1168-3Layer3Attacks/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>John Doe</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2025年10月23日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2025/10/23/CS144-networkP1158-2dTCPHijack/" title="CS144 NetworkP1158 2dTCPHijack">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">CS144 NetworkP1158 2dTCPHijack</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2025/10/23/CS144-networkP1138-2bDHCPAttackDemo/" title="CS144 NetworkP1138 2bDHCPAttackDemo">
                        <span class="hidden-mobile">CS144 NetworkP1138 2bDHCPAttackDemo</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
