

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  
    <meta name="description" content="title: CS144-networkP21-1Adayinthelifeofanapplication.md100:00:00,000 –&gt; 00:00:06,000What ultimately makes networks interesting are the applications that use them. 200:00:06,000 –&gt; 00:00:10,000">
<meta property="og:type" content="article">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/2025/10/23/CS144-networkP21-1Adayinthelifeofanapplication/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="title: CS144-networkP21-1Adayinthelifeofanapplication.md100:00:00,000 –&gt; 00:00:06,000What ultimately makes networks interesting are the applications that use them. 200:00:06,000 –&gt; 00:00:10,000">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2025-10-23T00:14:54.138Z">
<meta property="article:modified_time" content="2025-10-23T00:16:17.342Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary_large_image">
  
  
  
  <title>Hexo</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 8.0.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Fluid</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text=""></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2025-10-23 08:14" pubdate>
          2025年10月23日 早上
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          1.2k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          11 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header"></h1>
            
            
              <div class="markdown-body">
                
                <hr>
<h2 id="title-CS144-networkP21-1Adayinthelifeofanapplication-md"><a href="#title-CS144-networkP21-1Adayinthelifeofanapplication-md" class="headerlink" title="title: CS144-networkP21-1Adayinthelifeofanapplication.md"></a>title: CS144-networkP21-1Adayinthelifeofanapplication.md</h2><p>1<br>00:00:00,000 –&gt; 00:00:06,000<br>What ultimately makes networks interesting are the applications that use them.</p>
<p>2<br>00:00:06,000 –&gt; 00:00:10,000<br>David Clark, one of the key contributors to the Internet’s design, once wrote,</p>
<p>3<br>00:00:10,000 –&gt; 00:00:15,000<br>the current exponential growth of the network seems to show that connectivity is its own reward,</p>
<p>4<br>00:00:15,000 –&gt; 00:00:21,000<br>and it is more valuable than any individual application such as mail or the World Wide Web.</p>
<p>5<br>00:00:21,000 –&gt; 00:00:27,000<br>Connectivity is the idea that two computers in different parts of the world can connect to one another and exchange data.</p>
<p>6<br>00:00:27,000 –&gt; 00:00:33,000<br>If you connect your computer to the Internet, you can suddenly talk with all of the other computers connected to the Internet.</p>
<p>7<br>00:00:33,000 –&gt; 00:00:40,000<br>Let’s look at exactly what that means and how some modern applications at the World Wide Web Skype and BitTorrent use it.</p>
<p>8<br>00:00:40,000 –&gt; 00:00:46,000<br>The tremendous power of network applications is that you can have multiple computers, each with their own private data,</p>
<p>9<br>00:00:46,000 –&gt; 00:00:50,000<br>each perhaps owned and controlled by different people, exchange information.</p>
<p>10<br>00:00:50,000 –&gt; 00:00:55,000<br>Unlike your local applications, which can only access data that resides on your local system,</p>
<p>11<br>00:00:55,000 –&gt; 00:00:58,000<br>network applications can exchange data across the world.</p>
<p>12<br>00:00:58,000 –&gt; 00:01:02,000<br>For example, think of using a web browser to read a magazine.</p>
<p>13<br>00:01:02,000 –&gt; 00:01:09,000<br>The server is run by the publisher and has all of the magazine articles, and it might also have all the articles from past issues.</p>
<p>14<br>00:01:09,000 –&gt; 00:01:13,000<br>As articles are corrected or added, you can immediately see the newer versions and newer content.</p>
<p>15<br>00:01:13,000 –&gt; 00:01:18,000<br>The entire back catalog of articles might be too much free to download so you can load them on demand.</p>
<p>16<br>00:01:18,000 –&gt; 00:01:23,000<br>If you didn’t have a network, then you need someone to send you a DVD or a USB stick with the latest issue.</p>
<p>17<br>00:01:24,000 –&gt; 00:01:31,000<br>So the basic model is that you have two computers, each running a program locally, and these two programs communicate over the network.</p>
<p>18<br>00:01:31,000 –&gt; 00:01:37,000<br>The most common communication model used is a bidirectional, reliable stream of bytes.</p>
<p>19<br>00:01:39,000 –&gt; 00:01:48,000<br>So program A, running on computer A, can write data, which goes over the network, such that then program B, running on computer B, can read it.</p>
<p>20<br>00:01:49,000 –&gt; 00:01:54,000<br>Similarly, program B can write data that program A can read.</p>
<p>21<br>00:01:54,000 –&gt; 00:02:04,000<br>There are other modes of communication, which we’ll talk about later in the course, but a reliable bidirectional byte stream is by far the most common one used in networks today.</p>
<p>22<br>00:02:04,000 –&gt; 00:02:06,000<br>Let’s walk through what this looks like.</p>
<p>23<br>00:02:06,000 –&gt; 00:02:12,000<br>Computer B, on the right, is waiting for other computers to connect to it.</p>
<p>24<br>00:02:12,000 –&gt; 00:02:17,000<br>Computer A, on the left, wants to communicate with B.</p>
<p>25<br>00:02:18,000 –&gt; 00:02:24,000<br>For example, though it’s drawn here as a server, it could be a mobile phone running a web browser.</p>
<p>26<br>00:02:24,000 –&gt; 00:02:27,000<br>A and B set up a connection.</p>
<p>27<br>00:02:27,000 –&gt; 00:02:34,000<br>Now, when A writes data to the connection, this data travels over the network and B can read it.</p>
<p>28<br>00:02:34,000 –&gt; 00:02:43,000<br>Similarly, if B writes data to the connection, that data travels over the network and A can read it.</p>
<p>29<br>00:02:43,000 –&gt; 00:02:46,000<br>Either side can close the connection.</p>
<p>30<br>00:02:46,000 –&gt; 00:02:53,000<br>For example, when the web browser is done requesting data from the web server, it can close the connection.</p>
<p>31<br>00:02:53,000 –&gt; 00:02:58,000<br>Similarly, if the server wants to, it can close the connection as well.</p>
<p>32<br>00:02:58,000 –&gt; 00:03:03,000<br>If you’ve ever seen an error message in a web browser saying connection reset by here, that’s what this means.</p>
<p>33<br>00:03:03,000 –&gt; 00:03:07,000<br>The web server closed the connection when the web browser wasn’t expecting it.</p>
<p>34<br>00:03:07,000 –&gt; 00:03:09,000<br>Of course, the server can refuse the connection as well.</p>
<p>35<br>00:03:09,000 –&gt; 00:03:16,000<br>You’ve probably seen connection refuse messages or have a browser wait for a long time because the server isn’t even responding with the refusal.</p>
<p>36<br>00:03:16,000 –&gt; 00:03:23,000<br>Now that we’ve seen the basic way networked applications communicate, let’s look at our first example, the World Wide Web.</p>
<p>37<br>00:03:23,000 –&gt; 00:03:29,000<br>The World Wide Web uses something called ACTP, which stands for Hypertext Transfer Protocol.</p>
<p>38<br>00:03:29,000 –&gt; 00:03:37,000<br>When you see ACTP, colon slash slash in your browser, that means it’s communicating using ACTP.</p>
<p>39<br>00:03:37,000 –&gt; 00:03:42,000<br>We’ll dig much deeper into the details of ACTP later in the course when we cover applications.</p>
<p>40<br>00:03:42,000 –&gt; 00:03:45,000<br>For now, I’m just going to give a very high level overview.</p>
<p>41<br>00:03:45,000 –&gt; 00:03:50,000<br>An HTTP client opens a connection to a server and sends commands to it.</p>
<p>42<br>00:03:50,000 –&gt; 00:03:55,000<br>The most common command is Get, which requests a page.</p>
<p>43<br>00:03:55,000 –&gt; 00:03:59,000<br>HTTP was designed to be a document-centric way for programs to communicate.</p>
<p>44<br>00:03:59,000 –&gt; 00:04:05,000<br>For example, if I type HTTP <a target="_blank" rel="noopener" href="http://www.stanford.edu/">www.stanford.edu</a> in my browser,</p>
<p>45<br>00:04:05,000 –&gt; 00:04:13,000<br>the browser opens a connection to the server, <a target="_blank" rel="noopener" href="http://www.stanford.edu/">www.stanford.edu</a>, and sends a Get request for the root page of the site.</p>
<p>46<br>00:04:13,000 –&gt; 00:04:20,000<br>The server receives the request, checks if it’s valid, and the user can access that page and sends a response.</p>
<p>47<br>00:04:20,000 –&gt; 00:04:23,000<br>The response has an America Code associated with it.</p>
<p>48<br>00:04:23,000 –&gt; 00:04:33,000<br>For example, if the server sends a 200 OK response to it get, this means that the request was accepted and the rest of the response has the document data.</p>
<p>49<br>00:04:33,000 –&gt; 00:04:41,000<br>In the example of the <a target="_blank" rel="noopener" href="http://www.stanford.edu/">www.stanford.edu</a> webpage, a tournoor OK response would include the hypertext that describes the main Stanford page.</p>
<p>50<br>00:04:41,000 –&gt; 00:04:50,000<br>The other kinds of requests such as put, delete, and info, as well as other responses such as 400, which means that there was a bad request, maybe it was malformed.</p>
<p>51<br>00:04:50,000 –&gt; 00:04:56,000<br>Because HTTP is document-centric, clients, client requests name a file.</p>
<p>52<br>00:04:57,000 –&gt; 00:05:05,000<br>HTTP is all an ASCII text, it’s human readable. For example, the beginning of a Get request for Stanford looks like this.</p>
<p>53<br>00:05:05,000 –&gt; 00:05:11,000<br>The beginning of a response to a successful request looks like this.</p>
<p>54<br>00:05:11,000 –&gt; 00:05:14,000<br>The basic model is simple.</p>
<p>55<br>00:05:14,000 –&gt; 00:05:24,000<br>Client, a client sends a request by writing to the connection, the server reads this request, process it, and writes a response to the connection which the client then reads.</p>
<p>56<br>00:05:25,000 –&gt; 00:05:28,000<br>Let’s look at a second application, BitTorrent.</p>
<p>57<br>00:05:28,000 –&gt; 00:05:37,000<br>BitTorrent is a program that allows people to share and exchange large files, unlike the web, or a client request documents from a server, in BitTorrent, a client request documents from other clients.</p>
<p>58<br>00:05:37,000 –&gt; 00:05:45,000<br>So there’s single client can request from many others in parallel, BitTorrent breaks files up into chunks of data called pieces.</p>
<p>59<br>00:05:45,000 –&gt; 00:05:52,000<br>When a client downloads a complete piece from another client, it then tells other clients it has that piece they can download it to.</p>
<p>60<br>00:05:52,000 –&gt; 00:05:59,000<br>These collections of collaborating clients are called swarms. So we talk about a client joining or leaving the swarm.</p>
<p>61<br>00:05:59,000 –&gt; 00:06:08,000<br>BitTorrent uses the exact same mechanism as the World Wide Web, our reliable, bidirectional byte stream, but it uses it in a slightly more complex way.</p>
<p>62<br>00:06:08,000 –&gt; 00:06:13,000<br>When the client wants to download a file, it first has to find something called a torrent file.</p>
<p>63<br>00:06:13,000 –&gt; 00:06:19,000<br>Usually you find this using the World Wide Web, and download it using, you guessed it, HTTP.</p>
<p>64<br>00:06:19,000 –&gt; 00:06:28,000<br>The torrent file describes some information about the data file you want to download. It also tells BitTorrent about who the tracker is for that torrent.</p>
<p>65<br>00:06:28,000 –&gt; 00:06:35,000<br>A tracker is a node that keeps track, hence the name, of what clients are members of the swarm.</p>
<p>66<br>00:06:35,000 –&gt; 00:06:44,000<br>To join a torrent, your client contacts the tracker, again, over HTTP, to request the list of other clients.</p>
<p>67<br>00:06:44,000 –&gt; 00:06:50,000<br>Your client opens connections to some of these other clients and starts requesting pieces of the file.</p>
<p>68<br>00:06:50,000 –&gt; 00:06:59,000<br>These clients in turn can request pieces on their own. Furthermore, when a new client joins this swarm, the tracker might tell this new client to connect to your client.</p>
<p>69<br>00:06:59,000 –&gt; 00:07:07,000<br>So rather than a single connection between a client and a server, you have a dense graph of connections between clients dynamically exchanging data.</p>
<p>70<br>00:07:08,000 –&gt; 00:07:12,000<br>For a third and final application, let’s look at Skype, the popular Voice Chat and Video Service.</p>
<p>71<br>00:07:12,000 –&gt; 00:07:17,000<br>Skype’s proprietary system doesn’t have any official documentation on how it works internally.</p>
<p>72<br>00:07:17,000 –&gt; 00:07:23,000<br>In 2008, some researchers at Columbia figured out mostly how it works by looking at where and when Skype clients send messages.</p>
<p>73<br>00:07:23,000 –&gt; 00:07:26,000<br>The messages were encrypted, though, so they couldn’t look inside.</p>
<p>74<br>00:07:26,000 –&gt; 00:07:34,000<br>In 2011, however, a theme bush went off, reverse engineered the protocol and published open source code, so now it has a better sense of how the protocol works.</p>
<p>75<br>00:07:35,000 –&gt; 00:07:41,000<br>In its most simple mode, when you want to call someone in Skype, it’s a simple client server exchange, sort of like HTTP.</p>
<p>76<br>00:07:41,000 –&gt; 00:07:46,000<br>You, the caller, open a connection to the recipient.</p>
<p>77<br>00:07:46,000 –&gt; 00:07:52,000<br>If the recipient accepts your call, you start exchanging Voice, Video, or Chat data.</p>
<p>78<br>00:07:52,000 –&gt; 00:07:57,000<br>But unlike the web, when there’s a client and a server, in the Skype case, you have two clients.</p>
<p>79<br>00:07:57,000 –&gt; 00:08:04,000<br>So rather than having a personal computer request something from a dedicated server, you have two personal computers requesting data from each other.</p>
<p>80<br>00:08:04,000 –&gt; 00:08:08,000<br>This difference turns out to have a really big implication to how Skype works.</p>
<p>81<br>00:08:10,000 –&gt; 00:08:14,000<br>The complication comes from something called a NAT, or network address translator.</p>
<p>82<br>00:08:15,000 –&gt; 00:08:22,000<br>Nats are everywhere today. A small, home wireless router is a NAT. When a mobile phone connects the internet, it’s behind a NAT.</p>
<p>83<br>00:08:22,000 –&gt; 00:08:30,000<br>We’ll cover them in greater detail later in the course, but for now, all you need to know is that if you’re behind a NAT, then you can open connections out to the internet.</p>
<p>84<br>00:08:30,000 –&gt; 00:08:34,000<br>But other nodes on the internet can’t easily open connections to you.</p>
<p>85<br>00:08:34,000 –&gt; 00:08:43,000<br>In this example, this means that client B can open connections to other nodes freely, but it’s very hard for other nodes to open connections to client B.</p>
<p>86<br>00:08:43,000 –&gt; 00:08:50,000<br>That’s what this red-green gradient is showing. Connections coming from the green side work find, but connections coming from the red side don’t.</p>
<p>87<br>00:08:50,000 –&gt; 00:08:59,000<br>So the complication here is that if client A wants to call client B, it can’t open a connection. It can’t go through the NAT. Skype has to work around this.</p>
<p>88<br>00:09:00,000 –&gt; 00:09:06,000<br>It does so using something called a rendezvous server. When you log into Skype, your client opens connections to a network of control servers.</p>
<p>89<br>00:09:06,000 –&gt; 00:09:16,000<br>In this case, client B opens a connection to the rendezvous server. This works fine because the server isn’t behind a NAT, and so client B can open connections without any problems.</p>
<p>90<br>00:09:16,000 –&gt; 00:09:27,000<br>When a client A calls client B, it sends a message to the rendezvous server. Since the server has an open connection to client B, it tells B that there’s a call request from A.</p>
<p>91<br>00:09:27,000 –&gt; 00:09:34,000<br>The call dialog pops up on client B. If client B accepts the call, then it opens a connection to client A.</p>
<p>92<br>00:09:35,000 –&gt; 00:09:46,000<br>Client A was trying to open a connection to client B, but since B is behind a NAT, it couldn’t. So instead, it sends a message to a computer that client B is already connected to, which then asks client B to open a connection back to client A.</p>
<p>93<br>00:09:46,000 –&gt; 00:09:55,000<br>Since client A isn’t behind a NAT, this connection can open normally. This is called a reverse connection, because it reverses the expected direction for initiating the connection.</p>
<p>94<br>00:09:56,000 –&gt; 00:10:01,000<br>Client A is trying to connect to client B, but instead client B opens a connection to client A.</p>
<p>95<br>00:10:01,000 –&gt; 00:10:08,000<br>This happens in Skype, because Skype clients are typically personal machines. It’s rare for publicly accessible web servers to be behind NATs.</p>
<p>96<br>00:10:08,000 –&gt; 00:10:13,000<br>Since you want the server to be accessed by everyone on the internet, putting it behind a NAT is a bad idea.</p>
<p>97<br>00:10:13,000 –&gt; 00:10:23,000<br>Therefore, opening connections to web servers is easy. Personal computers, however, often behind NATs for security and other reasons. Therefore, Skype has to incorporate some new communication patterns to work around them.</p>
<p>98<br>00:10:24,000 –&gt; 00:10:34,000<br>So what does Skype do if both clients are behind NATs? We can’t reverse the connection. Client A can’t open a connection to client B, and client B can’t open a connection to client A.</p>
<p>99<br>00:10:34,000 –&gt; 00:10:48,000<br>To handle this case, Skype introduces a second kind of server called a relay. Relays can’t be behind NATs. If both client and client B are behind NATs, then they communicate through a relay. They both open connections to the relay.</p>
<p>100<br>00:10:49,000 –&gt; 00:11:01,000<br>When client A sends data, the relay forwards it to client B through the connection that B opened. Similarly, when client B sends data, the relay forwards it to client A through the connection client A opened.</p>
<p>101<br>00:11:02,000 –&gt; 00:11:15,000<br>In summary, we’ve seen the most common communication model network applications, are reliable bidirectional byte stream. This allows two programs running on different computers to exchange data. It abstracts away the entire network to a simple read-write relationship.</p>
<p>102<br>00:11:15,000 –&gt; 00:11:29,000<br>Although it’s a very simple communication model, it can be used in very inventive and complex ways. We looked at three examples, the World Wide Web, BitTorrent, and Skype. The World Wide Web is a client server model. The client opens a connection to a server and requests documents. The server responds with the documents.</p>
<p>103<br>00:11:30,000 –&gt; 00:11:37,000<br>BitTorrent is a peer-to-peer model where swarms of clients open connections to each other in exchange pieces of data creating a dense network of connections.</p>
<p>104<br>00:11:37,000 –&gt; 00:11:48,000<br>Skype is a mix of the two. When Skype clients can communicate directly, they do so in a peer-to-peer fashion. But sometimes the clients aren’t able to open connections directly and instead go through rendezvous or relay servers.</p>
<p>105<br>00:11:48,000 –&gt; 00:11:58,000<br>You can see how what looks like a very simple abstraction, a bidirectional reliable byte stream, can be used in many interesting ways by changing how programs open connections and what different programs do.</p>
<p>106<br>00:11:58,000 –&gt; 00:12:11,000<br>When you create complex applications ranging from document retrieval to swarming downloads to IP to left knee. Trackers in BitTorrent, for example, have very different data and a very different role than the clients. Just to Skype has realized in rendezvous servers in addition to its clients.</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div></div>
      <div>http://example.com/2025/10/23/CS144-networkP21-1Adayinthelifeofanapplication/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>John Doe</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2025年10月23日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2025/10/23/CS144-networkP211-12TheInternetandIPRecap/" title="">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile"></span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2025/10/23/CS144-networkP201-11AddressResolutionProtocolARP/" title="">
                        <span class="hidden-mobile"></span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
