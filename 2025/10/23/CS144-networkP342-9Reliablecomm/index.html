

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  
    <meta name="description" content="title: CS144-networkP342-9Reliablecomm.md100:00:00,000 –&gt; 00:00:08,000So in this video, I’m going to talk about retransmission strategies for transport protocols in order to achieve reliability, i">
<meta property="og:type" content="article">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/2025/10/23/CS144-networkP342-9Reliablecomm/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="title: CS144-networkP342-9Reliablecomm.md100:00:00,000 –&gt; 00:00:08,000So in this video, I’m going to talk about retransmission strategies for transport protocols in order to achieve reliability, i">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2025-10-23T00:14:54.345Z">
<meta property="article:modified_time" content="2025-10-23T00:16:17.238Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary_large_image">
  
  
  
  <title>Hexo</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 8.0.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Fluid</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text=""></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2025-10-23 08:14" pubdate>
          2025年10月23日 早上
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          975 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          9 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header"></h1>
            
            
              <div class="markdown-body">
                
                <hr>
<h2 id="title-CS144-networkP342-9Reliablecomm-md"><a href="#title-CS144-networkP342-9Reliablecomm-md" class="headerlink" title="title: CS144-networkP342-9Reliablecomm.md"></a>title: CS144-networkP342-9Reliablecomm.md</h2><p>1<br>00:00:00,000 –&gt; 00:00:08,000<br>So in this video, I’m going to talk about retransmission strategies for transport protocols in order to achieve reliability, in particular for sliding window protocols.</p>
<p>2<br>00:00:08,000 –&gt; 00:00:16,000<br>The basic question is we have with some sliding window reliable transport, a window of packets that are in flight.</p>
<p>3<br>00:00:16,000 –&gt; 00:00:21,000<br>Say 1, 2, 3, 4.</p>
<p>4<br>00:00:22,000 –&gt; 00:00:24,000<br>We’re using cumulative acknowledgments.</p>
<p>5<br>00:00:24,000 –&gt; 00:00:33,000<br>And so all we get is something back, such as, act 1, act 2, act 3, act 4.</p>
<p>6<br>00:00:33,000 –&gt; 00:00:38,000<br>Just the last byte that was successfully received, the last packet that was successfully received.</p>
<p>7<br>00:00:38,000 –&gt; 00:00:43,000<br>We’re maintaining a retransmission timer for each of these packets based on when they were sent.</p>
<p>8<br>00:00:43,000 –&gt; 00:00:49,000<br>And essentially maintaining a consular investment, if we haven’t received an acknowledgement for the packet by this time,</p>
<p>9<br>00:00:49,000 –&gt; 00:00:56,000<br>then this means that it is almost certain that the packet was lost, and so we should retransmit it.</p>
<p>10<br>00:00:56,000 –&gt; 00:01:03,000<br>And so the question is, given this set of parameters which are generally used for reliable transport, how is the protocol going to behave?</p>
<p>11<br>00:01:03,000 –&gt; 00:01:06,000<br>What does its retransmission strategy going to look like?</p>
<p>12<br>00:01:06,000 –&gt; 00:01:10,000<br>So we’ll see is that there are essentially two strategies you end up seeing.</p>
<p>13<br>00:01:10,000 –&gt; 00:01:13,000<br>You end up set up emerging from different protocols.</p>
<p>14<br>00:01:13,000 –&gt; 00:01:15,000<br>So first is we go go back in.</p>
<p>15<br>00:01:15,000 –&gt; 00:01:24,000<br>So what we think is that go back in is a very pessimistic approach or pessimistic behavior, which is that if a single packet is lost,</p>
<p>16<br>00:01:24,000 –&gt; 00:01:28,000<br>then we’re going to retransmit the entire outstanding window of packets.</p>
<p>17<br>00:01:28,000 –&gt; 00:01:36,000<br>Go back in. So if the window of size n, we lose some packet, we’re going to go back and transmissions, retransmit all of them.</p>
<p>18<br>00:01:36,000 –&gt; 00:01:41,000<br>The second is selective repeat, which we think it is optimistic.</p>
<p>19<br>00:01:41,000 –&gt; 00:01:46,000<br>So where go back in assumes that if one packet is lost, all of them are lost in the window.</p>
<p>20<br>00:01:46,000 –&gt; 00:01:50,000<br>Selective repeat assumes that if one packet is lost, only that packet was lost.</p>
<p>21<br>00:01:50,000 –&gt; 00:01:56,000<br>So in selective repeat, if we lose a packet, it’s not acknowledged, we’ll retransmit that packet and only that packet.</p>
<p>22<br>00:01:56,000 –&gt; 00:02:02,000<br>So let’s look at what go back in appears like a word. What’s the behavior that you see?</p>
<p>23<br>00:02:02,000 –&gt; 00:02:06,000<br>So let’s say that we have a window of size equal to four.</p>
<p>24<br>00:02:06,000 –&gt; 00:02:11,000<br>So the sender sends packet one, two, three, four.</p>
<p>25<br>00:02:11,000 –&gt; 00:02:15,000<br>And packet two is lost.</p>
<p>26<br>00:02:15,000 –&gt; 00:02:17,000<br>So here are four transmissions.</p>
<p>27<br>00:02:17,000 –&gt; 00:02:25,000<br>Well in response to packet one, the receiver is going to send acknowledgement and acknowledgement one.</p>
<p>28<br>00:02:25,000 –&gt; 00:02:28,000<br>But it’s not going to send acknowledgement two.</p>
<p>29<br>00:02:28,000 –&gt; 00:02:34,000<br>And so what will happen is at some point, we’re going to have retransmit timer go off.</p>
<p>30<br>00:02:34,000 –&gt; 00:02:43,000<br>And then in a go back end protocol, what the sender is going to do is it’s going to retransmit the entire outstanding window.</p>
<p>31<br>00:02:43,000 –&gt; 00:02:45,000<br>There’s some kind of timing.</p>
<p>32<br>00:02:45,000 –&gt; 00:02:50,000<br>And so don’t forget, the window is going to include five because in response to this act one, it can send five.</p>
<p>33<br>00:02:50,000 –&gt; 00:02:54,000<br>But so the transmitter, seeing the packet was two, is lost.</p>
<p>34<br>00:02:54,000 –&gt; 00:03:00,000<br>It’s going to assume that the entire window was lost and retransmit the entire window.</p>
<p>35<br>00:03:00,000 –&gt; 00:03:04,000<br>So it’s very conservative, very, very pessimistic.</p>
<p>36<br>00:03:04,000 –&gt; 00:03:08,000<br>So now let’s see what a selective repeat protocol will do.</p>
<p>37<br>00:03:08,000 –&gt; 00:03:15,000<br>So again, n equals four.</p>
<p>38<br>00:03:15,000 –&gt; 00:03:19,000<br>We transmit one, two, three, four.</p>
<p>39<br>00:03:19,000 –&gt; 00:03:23,000<br>One, two, three, four. Packet two is lost.</p>
<p>40<br>00:03:23,000 –&gt; 00:03:27,000<br>Packet one is acknowledged, which lets us send five.</p>
<p>41<br>00:03:27,000 –&gt; 00:03:33,000<br>In a selective repeat protocol, the transmitter is going to retransmit two.</p>
<p>42<br>00:03:33,000 –&gt; 00:03:47,000<br>And then we’ll continue execution and transmit six, seven, eight, nine, dot, dot, dot.</p>
<p>43<br>00:03:47,000 –&gt; 00:03:53,000<br>So it’ll retransmit only the packets that were not acknowledged.</p>
<p>44<br>00:03:53,000 –&gt; 00:04:01,000<br>So one question that comes up is why given a selective repeat doesn’t send fewer packets, why would you ever want to do go back in?</p>
<p>45<br>00:04:01,000 –&gt; 00:04:02,000<br>Well, there are a couple of reasons.</p>
<p>46<br>00:04:02,000 –&gt; 00:04:16,000<br>One is that selective repeat, if actually all of those packets were lost, if packet two, three, four, or the packets two, three, four, and five were all lost, in order to do each of these retransmissions involves timers and round chiptimes,</p>
<p>47<br>00:04:16,000 –&gt; 00:04:28,000<br>so it can be much slower. If there’s a burst of losses, a selective repeat protocol will often be slower to recover, as opposed to go back in, who assumes that all the packets are lost, it retransits all of them, and it gets going faster.</p>
<p>48<br>00:04:28,000 –&gt; 00:04:38,000<br>And so there’s a tradeoff here between the amount of data that you send, how quickly you send it, and then how much of it is wasted versus the speed of recovery from significant errors.</p>
<p>49<br>00:04:38,000 –&gt; 00:04:46,000<br>So let’s walk through two example, uh, transport protocols and their configurations and see how they behave, what happens.</p>
<p>50<br>00:04:46,000 –&gt; 00:04:57,000<br>So in this first one, our sender has a window of size n, and let’s say this n is equal to four, just like the prior examples, and the receiver has a window of size one, so the receive window sizes one.</p>
<p>51<br>00:04:57,000 –&gt; 00:05:04,000<br>So based on this, is the protocol going to behave as go back in, or a selective repeat?</p>
<p>52<br>00:05:04,000 –&gt; 00:05:24,000<br>Well, so let’s walk through it happens. So the sender, let’s say it’s going to send one, two, three, four, one, two, three, four, and let’s say that packet two is lost, so it doesn’t arrive.</p>
<p>53<br>00:05:24,000 –&gt; 00:05:37,000<br>Well, the receiver is going to acknowledge one, which will allow the sender to send five, but the receiver is not going to acknowledge two.</p>
<p>54<br>00:05:37,000 –&gt; 00:05:47,000<br>Now at some point, two’s retransmission timer is going to fire, and it’ll retransmit two.</p>
<p>55<br>00:05:47,000 –&gt; 00:05:59,000<br>But the thing is that because the receiver has a received window size of only one, it has been unable to buffer packets three, four, and five.</p>
<p>56<br>00:05:59,000 –&gt; 00:06:05,000<br>And so when it receives packet two, it’s going to act two.</p>
<p>57<br>00:06:05,000 –&gt; 00:06:12,000<br>The sender has not received an acknowledgement for three. It’s going to have to retransmit three.</p>
<p>58<br>00:06:12,000 –&gt; 00:06:18,000<br>And then the receiver can acknowledge three.</p>
<p>59<br>00:06:18,000 –&gt; 00:06:31,000<br>At some point, the sender can then start using its full window again, but the point being that since this first two was lost, three, four, and five couldn’t be buffered, the fact that the receiver has a window size of only one,</p>
<p>60<br>00:06:31,000 –&gt; 00:06:39,000<br>is going to force the sender to retransmit every single packet in the window. So we’re going to see that this behaves as go back n.</p>
<p>61<br>00:06:39,000 –&gt; 00:06:46,000<br>So let’s see a second example. So in this case, the sender has a window size of n, and the receiver has a window size of n.</p>
<p>62<br>00:06:46,000 –&gt; 00:06:50,000<br>And let’s say that for both of them, just again, for simplicity sake, this is of size four.</p>
<p>63<br>00:06:50,000 –&gt; 00:06:58,000<br>So in this case, will the protocol be go back n or selective repeat?</p>
<p>64<br>00:06:58,000 –&gt; 00:07:09,000<br>So let’s walk through what happens. We have again one, two, three, four, two is lost.</p>
<p>65<br>00:07:09,000 –&gt; 00:07:19,000<br>So we get an acknowledgement for two, for one, act one, results in packet five being sent, that at some point, two is retransmission timer fires.</p>
<p>66<br>00:07:19,000 –&gt; 00:07:21,000<br>So we recent two.</p>
<p>67<br>00:07:22,000 –&gt; 00:07:28,000<br>Now the receiver has been able to buffer these packets because it is a window of size n. And so it had three packets buffered.</p>
<p>68<br>00:07:28,000 –&gt; 00:07:41,000<br>It can then, so if yours is its buffer, it had packets three, four, and five, packet two arrives. It can then acknowledge five.</p>
<p>69<br>00:07:41,000 –&gt; 00:07:46,000<br>So it might be that the sender was a little aggressive, maybe it did retransmit three or four or something.</p>
<p>70<br>00:07:46,000 –&gt; 00:07:55,000<br>But the point is that it doesn’t have to. For this to operate correctly, if sage is waited for those retransmission timers or it did slow retransmissions, etc.</p>
<p>71<br>00:07:55,000 –&gt; 00:08:03,000<br>That the sender is going to resend only packet two, only the out sending packet that was not acknowledged, the rest of the buffer, the receiver.</p>
<p>72<br>00:08:03,000 –&gt; 00:08:06,000<br>And so we see that this behaves as selective repeat.</p>
<p>73<br>00:08:07,000 –&gt; 00:08:18,000<br>So when you’re implementing a transport protocol, say if you’re taking, if you’re, when you’re doing lab two, what one thing you want to think about is how you handle the retransmissions.</p>
<p>74<br>00:08:18,000 –&gt; 00:08:31,000<br>So one of the really important things is that you don’t retransmit earlier than you should, by which I mean it’s not okay to say start a retransmit timer based on packet one or packet two.</p>
<p>75<br>00:08:31,000 –&gt; 00:08:43,000<br>And then when two is retransmit timer fires, retransmit an entire window because it could very well be that three, four, and five have been correctly received or something has happened, but you’re going to retransmit them anyways.</p>
<p>76<br>00:08:43,000 –&gt; 00:08:49,000<br>You’re very aggressively putting additional packets in the network. You’re inflating the number of packs in the network beyond your window size.</p>
<p>77<br>00:08:49,000 –&gt; 00:08:54,000<br>Three, four, and five could still be in the network yet you’re putting additional copies of them.</p>
<p>78<br>00:08:54,000 –&gt; 00:09:02,000<br>So in that way, you want to be careful about the number of packets you put in the network and be careful about your retransmission policy.</p>
<p>79<br>00:09:02,000 –&gt; 00:09:10,000<br>And so we’ll see, which you can see is that on one hand, you can assume trying to be very conservative and say, look, if one packet was lost, I’m going to assume that the others are lost.</p>
<p>80<br>00:09:10,000 –&gt; 00:09:15,000<br>And then I’m going to retransmit the entire window with a go back end policy.</p>
<p>81<br>00:09:15,000 –&gt; 00:09:22,000<br>That will happen if say your receiver has a window size of only one or you can maybe be a bit slower.</p>
<p>82<br>00:09:22,000 –&gt; 00:09:29,000<br>And say, look, one pack was lost. I’m going to wait for untruth time to transmit that. See if I get an acknowledgment. See if the acknowledgment puts me.</p>
<p>83<br>00:09:29,000 –&gt; 00:09:35,000<br>And then perhaps just do a selective repeat and transmit only the packet that needs to be transmitted.</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div></div>
      <div>http://example.com/2025/10/23/CS144-networkP342-9Reliablecomm/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>John Doe</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2025年10月23日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2025/10/23/CS144-networkP352-10Reliablecomm/" title="">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile"></span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2025/10/23/CS144-networkP332-8Slidingwindow/" title="">
                        <span class="hidden-mobile"></span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
