

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  
    <meta name="description" content="100:00:00,000 –&gt; 00:00:06,120In this video, I want to talk about some more modern versions of TCP, TCP Reno and Neurino. 200:00:06,120 –&gt; 00:00:10,640Where TCP Tahoe solve the congestion control">
<meta property="og:type" content="article">
<meta property="og:title" content="CS144 NetworkP624 7CongestionControl">
<meta property="og:url" content="http://example.com/2025/10/23/CS144-networkP624-7CongestionControl/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="100:00:00,000 –&gt; 00:00:06,120In this video, I want to talk about some more modern versions of TCP, TCP Reno and Neurino. 200:00:06,120 –&gt; 00:00:10,640Where TCP Tahoe solve the congestion control">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2025-10-23T14:13:16.953Z">
<meta property="article:modified_time" content="2025-10-23T14:13:54.953Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary_large_image">
  
  
  
  <title>CS144 NetworkP624 7CongestionControl - Hexo</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 8.0.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Fluid</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="CS144 NetworkP624 7CongestionControl"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2025-10-23 22:13" pubdate>
          2025年10月23日 晚上
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          2k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          18 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">CS144 NetworkP624 7CongestionControl</h1>
            
            
              <div class="markdown-body">
                
                <p>1<br>00:00:00,000 –&gt; 00:00:06,120<br>In this video, I want to talk about some more modern versions of TCP, TCP Reno and Neurino.</p>
<p>2<br>00:00:06,120 –&gt; 00:00:10,640<br>Where TCP Tahoe solve the congestion control problems such that TCP could operate and the</p>
<p>3<br>00:00:10,640 –&gt; 00:00:14,560<br>Internet could work again, it wasn’t necessarily as high performance as it could be, as</p>
<p>4<br>00:00:14,560 –&gt; 00:00:17,199<br>since it was a bit more conservative than it needed to be.</p>
<p>5<br>00:00:17,199 –&gt; 00:00:20,640<br>And so since then, there have been improvements to TCP, although it’s still keeping the original</p>
<p>6<br>00:00:20,640 –&gt; 00:00:29,039<br>mechanisms of TCP Tahoe, to have it send data more quickly and have higher performance.</p>
<p>7<br>00:00:29,039 –&gt; 00:00:32,879<br>So I’m going to walk through two of those additions, one is something called TCP Reno and</p>
<p>8<br>00:00:32,879 –&gt; 00:00:34,879<br>then TCP Neurino.</p>
<p>9<br>00:00:34,879 –&gt; 00:00:43,519<br>To recall for TCP Tahoe, if the protocol is running and you encounter a timeout or a triple</p>
<p>10<br>00:00:43,519 –&gt; 00:00:47,359<br>duplicate act, which implies that there’s a lost packet, you do three things.</p>
<p>11<br>00:00:47,359 –&gt; 00:00:50,799<br>You set your slow start threshold to be the congestion window divided by two.</p>
<p>12<br>00:00:50,799 –&gt; 00:00:54,320<br>So it’s determining when you’re going to enter the congestion avoidance state as the congestion</p>
<p>13<br>00:00:54,320 –&gt; 00:00:56,239<br>window grows again.</p>
<p>14<br>00:00:56,240 –&gt; 00:01:00,160<br>You set the congestion window to one and you enter the slow start state.</p>
<p>15<br>00:01:00,160 –&gt; 00:01:04,159<br>The idea here is that you’re sending along your sending data.</p>
<p>16<br>00:01:04,159 –&gt; 00:01:11,040<br>Let’s just say here is the window size, your sending data, something happens, there’s an</p>
<p>17<br>00:01:11,040 –&gt; 00:01:13,320<br>event.</p>
<p>18<br>00:01:13,320 –&gt; 00:01:18,240<br>You set your threshold to be half of your original window size, you set your congestion window</p>
<p>19<br>00:01:18,240 –&gt; 00:01:24,640<br>to be one, you enter slow start again, exponential growth, and then when you reach this threshold,</p>
<p>20<br>00:01:24,640 –&gt; 00:01:26,920<br>you do additive increase again.</p>
<p>21<br>00:01:26,920 –&gt; 00:01:29,519<br>So that’s TCP Tahoe’s behavior.</p>
<p>22<br>00:01:29,519 –&gt; 00:01:33,239<br>And so here’s a picture just showing that a little more clearly.</p>
<p>23<br>00:01:33,239 –&gt; 00:01:38,640<br>So here we start with the congestion window of size one, when the slow start state, then</p>
<p>24<br>00:01:38,640 –&gt; 00:01:43,599<br>there’s say a triple duplicate act or a timeout.</p>
<p>25<br>00:01:43,599 –&gt; 00:01:48,560<br>We set the congestion window to be size one again, but we have a slow start threshold here,</p>
<p>26<br>00:01:48,560 –&gt; 00:01:50,760<br>which is half of this value.</p>
<p>27<br>00:01:50,760 –&gt; 00:01:53,480<br>So if this is x, this is x over two.</p>
<p>28<br>00:01:53,480 –&gt; 00:01:57,160<br>So we do exponential growth again until we reach this point, which point now are in congestion</p>
<p>29<br>00:01:57,160 –&gt; 00:02:01,240<br>avoidance, linear increase.</p>
<p>30<br>00:02:01,240 –&gt; 00:02:06,240<br>And here we have a timeout.</p>
<p>31<br>00:02:06,240 –&gt; 00:02:07,760<br>The window size is staying stable.</p>
<p>32<br>00:02:07,760 –&gt; 00:02:16,400<br>Boom, drop down the congestion window, size one again, slow start, congestion avoidance,</p>
<p>33<br>00:02:16,400 –&gt; 00:02:18,360<br>timeout, etc.</p>
<p>34<br>00:02:18,360 –&gt; 00:02:23,800<br>So we see this behavior of whenever we have a triple duplicate act or a timeout, we end</p>
<p>35<br>00:02:23,800 –&gt; 00:02:29,160<br>up reducing the congestion window to a size one, going through slow start, and then entering</p>
<p>36<br>00:02:29,160 –&gt; 00:02:34,200<br>congestion avoidance.</p>
<p>37<br>00:02:34,200 –&gt; 00:02:41,280<br>So TCP Reno generally behaves similar to TCP Tahoe with one exception, which is that on</p>
<p>38<br>00:02:41,280 –&gt; 00:02:45,520<br>a timeout it behaves the same way that it sets this congestion window to be size one and</p>
<p>39<br>00:02:45,520 –&gt; 00:02:46,520<br>does slow start again.</p>
<p>40<br>00:02:46,520 –&gt; 00:02:50,280<br>The assumption here is, hey, things have gone very wrong if I have a timeout.</p>
<p>41<br>00:02:50,280 –&gt; 00:02:53,200<br>And so I’m just going to assume nothing about the network and pretend as if things were</p>
<p>42<br>00:02:53,200 –&gt; 00:02:57,840<br>just starting from the beginning.</p>
<p>43<br>00:02:57,840 –&gt; 00:03:01,719<br>What TCP Reno does differently is on a triple duplicate act.</p>
<p>44<br>00:03:01,719 –&gt; 00:03:07,480<br>It assumes, look, a segment was lost, but other segments are arriving.</p>
<p>45<br>00:03:07,480 –&gt; 00:03:11,920<br>Chances are I’m close to what my speed should be.</p>
<p>46<br>00:03:11,920 –&gt; 00:03:15,040<br>I don’t need to drop my congestion window to size one.</p>
<p>47<br>00:03:15,039 –&gt; 00:03:20,479<br>Instead, I still set the threshold to be congestion window divided by two, as before.</p>
<p>48<br>00:03:20,479 –&gt; 00:03:24,759<br>But I set my congestion window itself to congestion window divided by two.</p>
<p>49<br>00:03:24,759 –&gt; 00:03:26,719<br>So this is called fast recovery.</p>
<p>50<br>00:03:26,719 –&gt; 00:03:33,000<br>Rather than entering slow start again, I just have my congestion window.</p>
<p>51<br>00:03:33,000 –&gt; 00:03:34,479<br>Then it adds another mechanism.</p>
<p>52<br>00:03:34,479 –&gt; 00:03:38,919<br>This is called fast retransmit, which it won’t wait for the timeout on a triple duplicate</p>
<p>53<br>00:03:38,919 –&gt; 00:03:39,919<br>act.</p>
<p>54<br>00:03:39,919 –&gt; 00:03:41,120<br>It says, look, I have a triple duplicate act.</p>
<p>55<br>00:03:41,120 –&gt; 00:03:43,680<br>It means that that segment is really likely to be lost.</p>
<p>56<br>00:03:43,680 –&gt; 00:03:46,040<br>So I’m just going to retransmit it immediately.</p>
<p>57<br>00:03:46,040 –&gt; 00:03:52,080<br>What this behavior means is that on a triple duplicate act, TCP Reno will stay in the congestion</p>
<p>58<br>00:03:52,080 –&gt; 00:03:56,080<br>avoidance state, isn’t going to require a logarithmic number of steps to enter that state,</p>
<p>59<br>00:03:56,080 –&gt; 00:03:58,080<br>which means the window size is bigger.</p>
<p>60<br>00:03:58,080 –&gt; 00:04:00,920<br>Fast retransmit means it’s not going to have to wait for a timeout.</p>
<p>61<br>00:04:00,920 –&gt; 00:04:04,319<br>So in theory, it is that it’s not going to have a couple of round trip times where it’s</p>
<p>62<br>00:04:04,319 –&gt; 00:04:05,319<br>then ramping up.</p>
<p>63<br>00:04:05,319 –&gt; 00:04:11,879<br>So its overall throughput will be higher.</p>
<p>64<br>00:04:11,879 –&gt; 00:04:16,439<br>This is a picture showing how TCP Reno behaves under similar circumstances.</p>
<p>65<br>00:04:16,439 –&gt; 00:04:18,839<br>Right here, we see we start in the slow start state.</p>
<p>66<br>00:04:18,839 –&gt; 00:04:19,839<br>Here’s slow start.</p>
<p>67<br>00:04:19,839 –&gt; 00:04:23,000<br>Then we have a triple duplicate act.</p>
<p>68<br>00:04:23,000 –&gt; 00:04:27,319<br>And rather than drop down to congestion window of size one, it sets, if our congestion</p>
<p>69<br>00:04:27,319 –&gt; 00:04:33,759<br>window here was x, it sets the congestion window to be x divided by two.</p>
<p>70<br>00:04:33,759 –&gt; 00:04:38,920<br>And since that is the slow start threshold, this causes the protocol to reenter congestion</p>
<p>71<br>00:04:38,920 –&gt; 00:04:41,439<br>avoidance to enter congestion avoidance.</p>
<p>72<br>00:04:41,439 –&gt; 00:04:44,959<br>And here we see a triple duplicate act.</p>
<p>73<br>00:04:44,959 –&gt; 00:04:46,399<br>Do the fast retransmit.</p>
<p>74<br>00:04:46,399 –&gt; 00:04:47,800<br>We get the acknowledgement.</p>
<p>75<br>00:04:47,800 –&gt; 00:04:49,519<br>We’re growing the window again.</p>
<p>76<br>00:04:49,519 –&gt; 00:04:50,519<br>Then here we have a timeout.</p>
<p>77<br>00:04:50,519 –&gt; 00:04:55,279<br>And when a timeout TCP Reno behaves in the same way, in that it sets, it says something</p>
<p>78<br>00:04:55,279 –&gt; 00:04:56,680<br>has gone drastically wrong.</p>
<p>79<br>00:04:56,680 –&gt; 00:05:00,920<br>I set my congestion window to be one.</p>
<p>80<br>00:05:00,920 –&gt; 00:05:03,800<br>And enter the slow start state again.</p>
<p>81<br>00:05:03,800 –&gt; 00:05:08,959<br>So here we have slow start, congestion avoidance, congestion avoidance.</p>
<p>82<br>00:05:09,359 –&gt; 00:05:13,079<br>Timeout and triple duplicate act.</p>
<p>83<br>00:05:13,079 –&gt; 00:05:16,079<br>So this is how TCP Reno behaves.</p>
<p>84<br>00:05:16,079 –&gt; 00:05:18,079<br>So let’s walk through that.</p>
<p>85<br>00:05:18,079 –&gt; 00:05:23,519<br>So my sender sends packet one.</p>
<p>86<br>00:05:23,519 –&gt; 00:05:26,120<br>I get an acknowledgement one.</p>
<p>87<br>00:05:26,120 –&gt; 00:05:28,279<br>I send two and three.</p>
<p>88<br>00:05:31,279 –&gt; 00:05:32,799<br>I get acknowledgments two and three.</p>
<p>89<br>00:05:33,199 –&gt; 00:05:39,800<br>I then send four, five, six, seven.</p>
<p>90<br>00:05:39,800 –&gt; 00:05:44,800<br>And let’s say that packet four is lost.</p>
<p>91<br>00:05:44,800 –&gt; 00:05:55,800<br>Well, the receiver is still going to send acknowledgments.</p>
<p>92<br>00:05:55,800 –&gt; 00:06:00,800<br>But in response to five, six, and seven, it’s going to send act three.</p>
<p>93<br>00:06:03,800 –&gt; 00:06:07,600<br>Act three, three times.</p>
<p>94<br>00:06:07,600 –&gt; 00:06:08,560<br>So triple duplicate act.</p>
<p>95<br>00:06:08,560 –&gt; 00:06:10,680<br>So at this point, the condition window is one.</p>
<p>96<br>00:06:10,680 –&gt; 00:06:12,000<br>Here it was two.</p>
<p>97<br>00:06:12,000 –&gt; 00:06:13,240<br>Here it was four.</p>
<p>98<br>00:06:13,240 –&gt; 00:06:20,240<br>Now in receiving this triple duplicate act, TCP Reno is going to set congestion window to be two.</p>
<p>99<br>00:06:20,240 –&gt; 00:06:24,040<br>Immediately retransmit packet four.</p>
<p>100<br>00:06:24,040 –&gt; 00:06:25,400<br>Right, fast retransmit.</p>
<p>101<br>00:06:25,400 –&gt; 00:06:26,519<br>So here’s the fast retransmit.</p>
<p>102<br>00:06:26,519 –&gt; 00:06:27,199<br>No timeout.</p>
<p>103<br>00:06:27,199 –&gt; 00:06:37,039<br>And hopefully we will get an act seven.</p>
<p>104<br>00:06:37,039 –&gt; 00:06:41,079<br>At which point now we have congestion window size of size two.</p>
<p>105<br>00:06:41,079 –&gt; 00:06:48,000<br>And we’ll send packets eight and nine.</p>
<p>106<br>00:06:48,000 –&gt; 00:06:50,519<br>So TCP Reno significantly improves TCP’s throughput.</p>
<p>107<br>00:06:50,519 –&gt; 00:06:55,000<br>You don’t have to enter the slow start state and drop your condition window to size one,</p>
<p>108<br>00:06:55,000 –&gt; 00:06:56,599<br>just when a single segment is lost.</p>
<p>109<br>00:06:57,920 –&gt; 00:07:02,039<br>TCP Reno improves things even a little bit more.</p>
<p>110<br>00:07:02,039 –&gt; 00:07:05,199<br>Essentially, it behaves the same as tau and Reno on timeout.</p>
<p>111<br>00:07:05,199 –&gt; 00:07:12,800<br>When you’re in the fast recovery state, it does something a little fancy with your congestion window.</p>
<p>112<br>00:07:12,800 –&gt; 00:07:19,120<br>When you enter fast recovery, so this is when there’s a triple duplicate act.</p>
<p>113<br>00:07:19,120 –&gt; 00:07:25,959<br>On every duplicate act that you receive, you inflate the congestion window by the maximum segment size.</p>
<p>114<br>00:07:25,959 –&gt; 00:07:30,279<br>Then when the last packet that’s outstanding is acknowledged, you return to the congestion</p>
<p>115<br>00:07:30,279 –&gt; 00:07:31,279<br>of void in the state.</p>
<p>116<br>00:07:31,279 –&gt; 00:07:36,079<br>You set your congestion window back to the value set when entering fast recovery.</p>
<p>117<br>00:07:36,079 –&gt; 00:07:43,319<br>And essentially what this is going to do is if I have a large window about standing packets,</p>
<p>118<br>00:07:43,319 –&gt; 00:07:48,079<br>like I say, you know, I have a very large window.</p>
<p>119<br>00:07:48,079 –&gt; 00:07:51,240<br>In this case, let’s just say, let’s say I have eight packets.</p>
<p>120<br>00:07:51,240 –&gt; 00:07:53,159<br>It’s not a super large window, but it’s for drawing.</p>
<p>121<br>00:07:53,159 –&gt; 00:07:55,279<br>It’s reasonable.</p>
<p>122<br>00:07:55,279 –&gt; 00:07:59,519<br>And this packet here is lost.</p>
<p>123<br>00:07:59,519 –&gt; 00:08:01,559<br>So let’s call this packet packs.</p>
<p>124<br>00:08:01,559 –&gt; 00:08:03,479<br>This packet is lost.</p>
<p>125<br>00:08:03,479 –&gt; 00:08:06,879<br>Each of these packets are going to tricker duplicate in knowledgements.</p>
<p>126<br>00:08:09,919 –&gt; 00:08:14,000<br>And as now TCP Reno receives these duplicate acknowledgments,</p>
<p>127<br>00:08:14,000 –&gt; 00:08:17,199<br>it’s going to start inflating its congestion window size.</p>
<p>128<br>00:08:17,199 –&gt; 00:08:23,159<br>And as it inflates the congestion window size, what that’s going to let it do is start sending new packets.</p>
<p>129<br>00:08:25,679 –&gt; 00:08:29,799<br>The idea here is we have evidence that packets are leaving the network.</p>
<p>130<br>00:08:29,799 –&gt; 00:08:32,279<br>And so it’s okay to send new packets.</p>
<p>131<br>00:08:32,279 –&gt; 00:08:36,879<br>We don’t want to send new two quickly, we’re close to the congestion point of the network.</p>
<p>132<br>00:08:36,879 –&gt; 00:08:39,799<br>But otherwise what happens when we do a fast recovery transmit,</p>
<p>133<br>00:08:39,799 –&gt; 00:08:44,240<br>we essentially have to wait for an entire RTT before we can send a new packet.</p>
<p>134<br>00:08:44,240 –&gt; 00:08:50,000<br>We have to do this retransmission and then we get the acknowledgment, we can now move the window forward.</p>
<p>135<br>00:08:50,000 –&gt; 00:08:53,079<br>And so there’s this whole RTT where essentially TCP sits idle.</p>
<p>136<br>00:08:56,240 –&gt; 00:09:05,279<br>And you see that in this example here, where gosh, we have the situation where there are these idle periods waiting for the retransmission.</p>
<p>137<br>00:09:10,879 –&gt; 00:09:15,559<br>And so essentially what this tweet goes through, explicitly in a second,</p>
<p>138<br>00:09:15,559 –&gt; 00:09:21,319<br>allows TCP Reno to do is to start sending out new packets while the fast recovery transmit is in flight.</p>
<p>139<br>00:09:21,320 –&gt; 00:09:24,400<br>It starts inflating the congestion window to be bigger,</p>
<p>140<br>00:09:24,400 –&gt; 00:09:29,480<br>so that even though this was the last technology packet, it can start sending new packets.</p>
<p>141<br>00:09:29,480 –&gt; 00:09:34,720<br>But then once we get a proper acknowledgment, like let’s say we get an acknowledgment for this segment here,</p>
<p>142<br>00:09:34,720 –&gt; 00:09:38,240<br>then it suddenly reduces the congestion window size to the right size,</p>
<p>143<br>00:09:38,240 –&gt; 00:09:40,760<br>so it’s not like we’ve suddenly saturated the network.</p>
<p>144<br>00:09:42,960 –&gt; 00:09:45,360<br>So let’s walk through what this looks like.</p>
<p>145<br>00:09:45,399 –&gt; 00:09:54,919<br>So let’s say we have a congestion window of size 16, and we encounter a triple duplicate act.</p>
<p>146<br>00:09:58,480 –&gt; 00:10:01,680<br>So the rules mean we’re going to set the congestion window to be eight.</p>
<p>147<br>00:10:01,680 –&gt; 00:10:06,120<br>So at this point, we have a triple duplicate act, the congestion window becomes eight.</p>
<p>148<br>00:10:08,680 –&gt; 00:10:10,800<br>And we’re going to do fast recovery transmit.</p>
<p>149<br>00:10:10,799 –&gt; 00:10:17,039<br>And so a triple duplicate act comes in and we send out fast retransmission.</p>
<p>150<br>00:10:22,479 –&gt; 00:10:26,599<br>Meanwhile, while that fast recovery transmit packet is outstanding,</p>
<p>151<br>00:10:26,599 –&gt; 00:10:28,559<br>we’re receiving additional acknowledgments.</p>
<p>152<br>00:10:30,039 –&gt; 00:10:33,639<br>The window size was 16, and so we had a triple duplicate act.</p>
<p>153<br>00:10:33,639 –&gt; 00:10:41,279<br>So actually we expect to receive order 16 or 15 duplicate acts.</p>
<p>154<br>00:10:41,279 –&gt; 00:10:46,919<br>And so as those start streaming in, what we’re going to do is increase the congestion window by one for each.</p>
<p>155<br>00:10:46,919 –&gt; 00:10:49,279<br>And so we encounter those three triple duplicate.</p>
<p>156<br>00:10:49,279 –&gt; 00:10:56,759<br>So over this interval here, the congestion window is going to increase plus one for each of those duplicate acknowledgments,</p>
<p>157<br>00:10:56,759 –&gt; 00:11:00,120<br>which means it’s going to increase up to 23.</p>
<p>158<br>00:11:01,120 –&gt; 00:11:02,840<br>So this might seem really big.</p>
<p>159<br>00:11:02,840 –&gt; 00:11:06,240<br>So we’ll even fled our congestion window from 16 to 23.</p>
<p>160<br>00:11:06,240 –&gt; 00:11:09,560<br>But think about what this means in terms of the sequence number space.</p>
<p>161<br>00:11:09,560 –&gt; 00:11:14,639<br>So we had this window of packets, right?</p>
<p>162<br>00:11:14,639 –&gt; 00:11:16,799<br>And this was the last acknowledged packet here.</p>
<p>163<br>00:11:16,799 –&gt; 00:11:19,399<br>Let’s just call it packet one, right?</p>
<p>164<br>00:11:19,399 –&gt; 00:11:25,320<br>Then we’ve started and we have an outstanding window of size 16, right?</p>
<p>165<br>00:11:25,320 –&gt; 00:11:27,600<br>So we can send from one, right?</p>
<p>166<br>00:11:27,759 –&gt; 00:11:31,480<br>So we can safely send from packet one to 16.</p>
<p>167<br>00:11:35,720 –&gt; 00:11:38,040<br>So we got that last acknowledgment for one.</p>
<p>168<br>00:11:38,040 –&gt; 00:11:39,759<br>You know, we could send 16.</p>
<p>169<br>00:11:39,759 –&gt; 00:11:45,960<br>Everything is, so when one was acknowledged, it would have sent 17, so everything is good.</p>
<p>170<br>00:11:45,960 –&gt; 00:11:54,680<br>Now we have a triple duplicate act, and we’re not going to be able to send anything past 17 until the congestion window grows beyond 17.</p>
<p>171<br>00:11:54,679 –&gt; 00:11:56,559<br>And so it’s starting at one.</p>
<p>172<br>00:11:56,559 –&gt; 00:11:58,159<br>And the congestion window has shrunk to eight.</p>
<p>173<br>00:11:58,159 –&gt; 00:12:08,159<br>And so this means that the valid packets were allowed to send are 2345678 and nine, right?</p>
<p>174<br>00:12:08,159 –&gt; 00:12:09,839<br>That’s not very helpful.</p>
<p>175<br>00:12:09,839 –&gt; 00:12:14,559<br>And so now, as these additional acknowledgments come in, we’re going to start inflating this.</p>
<p>176<br>00:12:14,559 –&gt; 00:12:20,519<br>So we’re going to allow ourselves to send to 10 to 11 to 12 to 13 to 14, etc, etc, etc.</p>
<p>177<br>00:12:20,519 –&gt; 00:12:37,720<br>Until when we get, say, the eighth duplicate acknowledgment, now suddenly, we have increased our congestion window size back up to 16, which means that, well, we could resend 17.</p>
<p>178<br>00:12:37,720 –&gt; 00:12:44,279<br>And then when we get the ninth, we’ve increased it to 17, which means that we can now send packet 18.</p>
<p>179<br>00:12:44,279 –&gt; 00:12:47,120<br>And so this will then increase up to 23.</p>
<p>180<br>00:12:47,120 –&gt; 00:12:56,919<br>And essentially what this does is it’s inflates the congestion window so we can send up to packet 24.</p>
<p>181<br>00:12:56,919 –&gt; 00:13:10,240<br>Now if you look at this carefully, packets 17, 18, 19, 20, 20, 22, 23, 24, that’s eight packets, which is equal to what the actual congestion window size is.</p>
<p>182<br>00:13:10,240 –&gt; 00:13:22,519<br>And the idea is that by inflating in this way, given that we have it, now we’re adding plus one, the last half of acknowledgments that arrive will allow us to clock out new packets.</p>
<p>183<br>00:13:22,519 –&gt; 00:13:31,440<br>And so essentially, then and as soon as the faster transfer acknowledgment comes in, we just reset everything, gosh, things are acknowledged or congestion window size 8, we can start moving forward.</p>
<p>184<br>00:13:31,440 –&gt; 00:13:38,240<br>But essentially what this does is this inflating of the window after a triple duplicate acknowledgment.</p>
<p>185<br>00:13:38,240 –&gt; 00:13:44,560<br>It allows TCP new Reno to continue to send data while the faster transmit is in flight.</p>
<p>186<br>00:13:44,560 –&gt; 00:13:49,519<br>And the amount of data it’s going to send is equal to, and it’s clocked by again, acknowledgments coming in.</p>
<p>187<br>00:13:49,519 –&gt; 00:13:51,919<br>So you know packets are leaving the network.</p>
<p>188<br>00:13:51,919 –&gt; 00:14:03,960<br>The expected congestion window size for the next run trip time, assuming that the returns, the faster transfer packet is delivered successfully.</p>
<p>189<br>00:14:04,000 –&gt; 00:14:05,960<br>So that’s TCP Reno and Reno.</p>
<p>190<br>00:14:05,960 –&gt; 00:14:11,440<br>New Reno is generally used in many systems today, or at least the basis for TCP today.</p>
<p>191<br>00:14:11,440 –&gt; 00:14:16,440<br>I’ll talk a little bit more about more advanced TCP that deals with some modern on our considerations.</p>
<p>192<br>00:14:16,440 –&gt; 00:14:26,879<br>But you know, in a Linux system or on a Windows systems, Mac OS systems, the basic TCP algorithm that’s running is very, very similar to Reno.</p>
<p>193<br>00:14:26,879 –&gt; 00:14:30,440<br>It turns out the congestion control is a really hard problem.</p>
<p>194<br>00:14:30,440 –&gt; 00:14:34,920<br>And it’s one of the hardest problems to build a robust network system.</p>
<p>195<br>00:14:34,920 –&gt; 00:14:49,320<br>The basic approach that you see that has been adopted, and which seems very, very powerful and very robust, is this idea of added increase multiplicative decrease, that you increase a window additively, right?</p>
<p>196<br>00:14:49,320 –&gt; 00:14:51,880<br>But then reduce it multiplicatively.</p>
<p>197<br>00:14:51,880 –&gt; 00:14:57,440<br>So you respond very quickly when things go badly and carefully increase it.</p>
<p>198<br>00:14:57,440 –&gt; 00:15:01,520<br>And the trick is that when you’re doing this is how to keep the pipe falling and proof throughput.</p>
<p>199<br>00:15:01,520 –&gt; 00:15:06,680<br>So there’s things like fast-retransmit, don’t wait for a time out just to send very, very, we send quickly.</p>
<p>200<br>00:15:06,680 –&gt; 00:15:08,360<br>And also things like congestion window inflation.</p>
<p>201<br>00:15:08,360 –&gt; 00:15:12,160<br>Or gosh, I don’t want to waste a whole round trip time waiting for the fast-retransmit acknowledgement.</p>
<p>202<br>00:15:12,160 –&gt; 00:15:13,400<br>I know stuff’s leaving the network.</p>
<p>203<br>00:15:13,400 –&gt; 00:15:15,080<br>I’m going to start sending out some new packets.</p>
<p>204<br>00:15:15,080 –&gt; 00:15:17,480<br>I’ll allow these packets have left the network.</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>CS144 NetworkP624 7CongestionControl</div>
      <div>http://example.com/2025/10/23/CS144-networkP624-7CongestionControl/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>John Doe</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2025年10月23日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2025/10/23/CS144-networkP614-6aCongestionControl/" title="CS144 NetworkP614 6aCongestionControl">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">CS144 NetworkP614 6aCongestionControl</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2025/10/23/CS144-networkP634-7aTCPReno/" title="CS144 NetworkP634 7aTCPReno">
                        <span class="hidden-mobile">CS144 NetworkP634 7aTCPReno</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
