

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  
    <meta name="description" content="100:00:00,000 –&gt; 00:00:09,000Okay, so we’ve looked at the quick union and quick find algorithms, both of which are easy 200:00:09,000 –&gt; 00:00:14,919to implement, but simply can’t support huge d">
<meta property="og:type" content="article">
<meta property="og:title" content="PrincetonAlgorithms P5Part12 06_quick Union Improvements">
<meta property="og:url" content="http://example.com/2025/10/23/PrincetonAlgorithms%20P5Part12-06_quick-union-improvements/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="100:00:00,000 –&gt; 00:00:09,000Okay, so we’ve looked at the quick union and quick find algorithms, both of which are easy 200:00:09,000 –&gt; 00:00:14,919to implement, but simply can’t support huge d">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2025-10-23T14:33:27.236Z">
<meta property="article:modified_time" content="2025-10-23T14:34:26.509Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary_large_image">
  
  
  
  <title>PrincetonAlgorithms P5Part12 06_quick Union Improvements - Hexo</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 8.0.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Fluid</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="PrincetonAlgorithms P5Part12 06_quick Union Improvements"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2025-10-23 22:33" pubdate>
          2025年10月23日 晚上
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          1.3k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          11 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">PrincetonAlgorithms P5Part12 06_quick Union Improvements</h1>
            
            
              <div class="markdown-body">
                
                <p>1<br>00:00:00,000 –&gt; 00:00:09,000<br>Okay, so we’ve looked at the quick union and quick find algorithms, both of which are easy</p>
<p>2<br>00:00:09,000 –&gt; 00:00:14,919<br>to implement, but simply can’t support huge dynamic commentativity problems.</p>
<p>3<br>00:00:14,919 –&gt; 00:00:16,519<br>So how are we going to do better?</p>
<p>4<br>00:00:16,519 –&gt; 00:00:20,519<br>That’s what we’ll look at next.</p>
<p>5<br>00:00:20,519 –&gt; 00:00:23,960<br>A very effective improvement is called waiting, and it might have occurred to you while we’re</p>
<p>6<br>00:00:23,960 –&gt; 00:00:26,400<br>looking at these algorithms.</p>
<p>7<br>00:00:26,399 –&gt; 00:00:33,719<br>The idea is to, when implementing the quick union algorithm, take steps to avoid having</p>
<p>8<br>00:00:33,719 –&gt; 00:00:36,280<br>tall trees.</p>
<p>9<br>00:00:36,280 –&gt; 00:00:43,719<br>If you’ve got a large tree and a small tree to combine together, what you want to try</p>
<p>10<br>00:00:43,719 –&gt; 00:00:47,359<br>to do is avoid putting the large tree lower.</p>
<p>11<br>00:00:47,359 –&gt; 00:00:50,480<br>That’s going to lead to long tall trees.</p>
<p>12<br>00:00:50,480 –&gt; 00:00:53,200<br>And there’s a relatively easy way to do that.</p>
<p>13<br>00:00:53,200 –&gt; 00:00:59,480<br>What we’ll do is we’ll keep track of the number of objects in each tree, and then we’ll</p>
<p>14<br>00:00:59,480 –&gt; 00:01:06,240<br>maintain balance by always making sure that we link the root of the smaller tree to the</p>
<p>15<br>00:01:06,240 –&gt; 00:01:08,439<br>root of the larger tree.</p>
<p>16<br>00:01:08,439 –&gt; 00:01:14,560<br>So we avoid this first situation here where we put the larger tree lower.</p>
<p>17<br>00:01:14,560 –&gt; 00:01:18,480<br>In the weighted algorithm, we always put the smaller tree lower.</p>
<p>18<br>00:01:18,480 –&gt; 00:01:20,280<br>How we, let’s see how we implement that.</p>
<p>19<br>00:01:20,680 –&gt; 00:01:22,840<br>I’ll see a demo first.</p>
<p>20<br>00:01:22,840 –&gt; 00:01:33,320<br>Okay, so again, we start out in our normal starting position where everybody’s in their own</p>
<p>21<br>00:01:33,320 –&gt; 00:01:35,120<br>tree.</p>
<p>22<br>00:01:35,120 –&gt; 00:01:43,760<br>And when there’s only two items to link, it works the same way as before.</p>
<p>23<br>00:01:43,760 –&gt; 00:01:49,799<br>But now when we have eight to merge with four and three, we put the eight as the child</p>
<p>24<br>00:01:49,799 –&gt; 00:01:56,799<br>and the matter which order the arguments came because it’s the smaller tree.</p>
<p>25<br>00:01:56,799 –&gt; 00:02:03,000<br>So six and five doesn’t matter, whichever one goes down doesn’t matter.</p>
<p>26<br>00:02:03,000 –&gt; 00:02:04,000<br>Nine and four.</p>
<p>27<br>00:02:04,000 –&gt; 00:02:08,039<br>So now nine’s the small one, four’s the big one, so nine’s going to be the one that goes</p>
<p>28<br>00:02:08,039 –&gt; 00:02:12,240<br>down below.</p>
<p>29<br>00:02:12,240 –&gt; 00:02:16,479<br>Two and one.</p>
<p>30<br>00:02:16,479 –&gt; 00:02:17,960<br>Five and zero.</p>
<p>31<br>00:02:17,960 –&gt; 00:02:28,159<br>So now five and zero, five’s in the bigger tree, so zero goes below.</p>
<p>32<br>00:02:28,159 –&gt; 00:02:38,319<br>Seven and two, two’s in the bigger tree, so seven goes below.</p>
<p>33<br>00:02:38,319 –&gt; 00:02:49,400<br>Six and one, they’re in equal size trees.</p>
<p>34<br>00:02:49,400 –&gt; 00:02:57,159<br>And seven and three, three’s in the smaller tree, so it goes below.</p>
<p>35<br>00:02:57,159 –&gt; 00:03:08,560<br>So the weighted algorithm always makes sure that the smaller tree goes below.</p>
<p>36<br>00:03:08,560 –&gt; 00:03:13,639<br>And again, we wind up with a single tree representing all the objects, but this time we have</p>
<p>37<br>00:03:13,639 –&gt; 00:03:18,120<br>some guarantee that no item is too far from the root.</p>
<p>38<br>00:03:18,120 –&gt; 00:03:23,199<br>And we’ll talk about that explicitly in a second.</p>
<p>39<br>00:03:23,199 –&gt; 00:03:30,560<br>So here’s an example that shows the effect of doing the weighted quick union where we</p>
<p>40<br>00:03:30,560 –&gt; 00:03:37,919<br>always put the smaller tree down below for the same set of union commands.</p>
<p>41<br>00:03:37,919 –&gt; 00:03:41,799<br>This is with a hundred sites and 88 union operations.</p>
<p>42<br>00:03:41,799 –&gt; 00:03:48,280<br>You can see in the top the big tree has some trees, some nodes, a fair distance from the</p>
<p>43<br>00:03:48,280 –&gt; 00:03:50,039<br>root.</p>
<p>44<br>00:03:50,039 –&gt; 00:03:55,799<br>And the bottom for the weighted algorithm, all the nodes are within distance four from the</p>
<p>45<br>00:03:55,799 –&gt; 00:04:01,519<br>average distance to the root is much, much lower.</p>
<p>46<br>00:04:01,519 –&gt; 00:04:06,239<br>Let’s look at the Java implementation and then we’ll look in more detail at that quantitative</p>
<p>47<br>00:04:06,239 –&gt; 00:04:08,000<br>information.</p>
<p>48<br>00:04:08,000 –&gt; 00:04:14,599<br>So we use the same data structure, except now we need an extra array that for each item</p>
<p>49<br>00:04:14,599 –&gt; 00:04:19,519<br>gives the number of objects in the tree rooted at that item.</p>
<p>50<br>00:04:19,519 –&gt; 00:04:22,479<br>That will maintain in the union operation.</p>
<p>51<br>00:04:22,479 –&gt; 00:04:26,719<br>Find implementation is identical to for quick union, you’re just checking whether the roots</p>
<p>52<br>00:04:26,719 –&gt; 00:04:28,079<br>are equal.</p>
<p>53<br>00:04:28,079 –&gt; 00:04:35,879<br>For the union implementation, we’re going to modify the code to check the sizes and link</p>
<p>54<br>00:04:35,879 –&gt; 00:04:40,560<br>the root of the smaller tree to the root of the larger tree in each case.</p>
<p>55<br>00:04:40,560 –&gt; 00:04:46,159<br>And then after changing the ID link, we also change the size array.</p>
<p>56<br>00:04:46,160 –&gt; 00:04:53,280<br>If we make ID, I, a child of J, then we have to increment the size of J’s tree by the size</p>
<p>57<br>00:04:53,280 –&gt; 00:04:54,840<br>of I’s tree.</p>
<p>58<br>00:04:54,840 –&gt; 00:04:58,200<br>Or if we do the other way around, then we have to increment the size of I’s tree by the</p>
<p>59<br>00:04:58,200 –&gt; 00:05:00,000<br>size of J’s tree.</p>
<p>60<br>00:05:00,000 –&gt; 00:05:05,879<br>So that’s the full code in white for implementing quick union.</p>
<p>61<br>00:05:05,879 –&gt; 00:05:10,840<br>So not very much code, but much, much better performance.</p>
<p>62<br>00:05:10,839 –&gt; 00:05:20,799<br>In fact, we can analyze the running time mathematically and show that the find operation, it takes</p>
<p>63<br>00:05:20,799 –&gt; 00:05:25,639<br>time proportional to how far down the trees are in the node.</p>
<p>64<br>00:05:25,639 –&gt; 00:05:31,339<br>The nodes are in the tree, but we can show that it’s guaranteed that the depth of any</p>
<p>65<br>00:05:31,339 –&gt; 00:05:37,679<br>node in the tree is at most the logarithm to the base 2 of n.</p>
<p>66<br>00:05:37,680 –&gt; 00:05:43,680<br>We use the notation LG always for logarithm to the base 2.</p>
<p>67<br>00:05:43,680 –&gt; 00:05:46,519<br>And so if n is 1,000, that’s going to be 10.</p>
<p>68<br>00:05:46,519 –&gt; 00:05:50,280<br>If n is 1,000, that’s 1,000,000, that’s 30.</p>
<p>69<br>00:05:50,280 –&gt; 00:05:53,720<br>It’s a very small number compared to n.</p>
<p>70<br>00:05:53,720 –&gt; 00:05:56,280<br>So let’s look at the proof of that.</p>
<p>71<br>00:05:56,280 –&gt; 00:06:03,240<br>We do some mathematical proofs in this course when they’re critical, such as this one.</p>
<p>72<br>00:06:03,240 –&gt; 00:06:08,840<br>And why is it true that the depth of any node x is at most log base 2 of n?</p>
<p>73<br>00:06:08,840 –&gt; 00:06:16,240<br>Well, the key to understanding that is to take a look at exactly when does the depth of any node</p>
<p>74<br>00:06:16,240 –&gt; 00:06:16,740<br>increase?</p>
<p>75<br>00:06:16,740 –&gt; 00:06:19,639<br>When does it go down further in the tree?</p>
<p>76<br>00:06:19,639 –&gt; 00:06:32,240<br>Well, the x’s depth will increase by 1 when its tree, t1 in this diagram, is merged into some other tree, t2 in this diagram.</p>
<p>77<br>00:06:32,240 –&gt; 00:06:42,240<br>Well, at that point, we said we’d only do that if the size of t2 was bigger than or equal to the size of t1.</p>
<p>78<br>00:06:42,240 –&gt; 00:06:50,439<br>So when the depth of x increases, the size of its tree at least doubles.</p>
<p>79<br>00:06:50,439 –&gt; 00:06:58,540<br>So that’s the key, because that means that the size of the tree containing s can double at most log n times.</p>
<p>80<br>00:06:58,540 –&gt; 00:07:05,140<br>Because if you start with 1 and double log n times you get n, and there’s only n nodes in the tree.</p>
<p>81<br>00:07:05,140 –&gt; 00:07:11,740<br>So that’s a sketch of a proof that the depth of any node x is at most log base 2 of n.</p>
<p>82<br>00:07:11,740 –&gt; 00:07:17,140<br>And that has profound impact on the performance of this algorithm.</p>
<p>83<br>00:07:17,140 –&gt; 00:07:22,939<br>Now, instead of the initialization always takes time proportional to n.</p>
<p>84<br>00:07:22,939 –&gt; 00:07:30,740<br>But now both the union and the connected or find operation takes time proportional to log base 2 of n.</p>
<p>85<br>00:07:30,740 –&gt; 00:07:34,339<br>And that is an algorithm that scales.</p>
<p>86<br>00:07:34,339 –&gt; 00:07:43,339<br>If n grows from a million to a billion, that cost goes from 20 to 30, which is quite acceptable.</p>
<p>87<br>00:07:43,339 –&gt; 00:07:47,540<br>Now, this was very easy to implement, and we could stop.</p>
<p>88<br>00:07:47,540 –&gt; 00:07:55,340<br>But usually what happens in the design of algorithms is now that we understand what it is that gains performance.</p>
<p>89<br>00:07:55,340 –&gt; 00:07:58,939<br>We take a look and see, well, could we improve it even further?</p>
<p>90<br>00:07:58,939 –&gt; 00:08:05,939<br>And in this case, it’s very easy to improve it much, much more.</p>
<p>91<br>00:08:05,939 –&gt; 00:08:09,740<br>And that’s the idea of path compression.</p>
<p>92<br>00:08:09,740 –&gt; 00:08:19,340<br>And this idea is that while when we’re trying to find the root of the tree containing a given node,</p>
<p>93<br>00:08:19,340 –&gt; 00:08:25,939<br>we’re touching all the nodes on the path from that node to the root.</p>
<p>94<br>00:08:25,939 –&gt; 00:08:33,139<br>While we’re doing that, we might as well make each one of those just point to the root because no reason that to.</p>
<p>95<br>00:08:33,139 –&gt; 00:08:49,340<br>So when we’re trying to find the root of p, after we find it, we might as well just go back and make every node on that path just point to the root.</p>
<p>96<br>00:08:49,340 –&gt; 00:08:52,139<br>That’s going to be a constant extra cost.</p>
<p>97<br>00:08:52,139 –&gt; 00:08:54,139<br>We went up the path once to find the root.</p>
<p>98<br>00:08:54,139 –&gt; 00:08:58,139<br>Now we’ll go up again to just flatten the tree up.</p>
<p>99<br>00:08:58,139 –&gt; 00:09:00,740<br>And the reason would be no reason not to do that.</p>
<p>100<br>00:09:00,740 –&gt; 00:09:07,740<br>We had one line of code to flatten the tree amazingly.</p>
<p>101<br>00:09:07,740 –&gt; 00:09:18,139<br>Actually, to make a one line of code, we use a simple variant where we make every other node in the path point to its grandparent on the way up the tree.</p>
<p>102<br>00:09:18,139 –&gt; 00:09:24,139<br>That’s not quite as good as totally flattening actually in practice.</p>
<p>103<br>00:09:24,139 –&gt; 00:09:26,940<br>It actually is just about as good.</p>
<p>104<br>00:09:26,940 –&gt; 00:09:32,940<br>So with one line of code, we can keep the trees almost completely flat.</p>
<p>105<br>00:09:32,940 –&gt; 00:09:40,940<br>Now, this algorithm, people discovered rather early on after figuring out the weighting.</p>
<p>106<br>00:09:40,940 –&gt; 00:09:48,940<br>And it turns out to be fascinating to analyze quite beyond our scope.</p>
<p>107<br>00:09:48,940 –&gt; 00:09:57,940<br>But mention this example to illustrate how even a simple algorithm can have interesting and complex analysis.</p>
<p>108<br>00:09:57,940 –&gt; 00:10:15,940<br>And what was proved by Hopper-Often-Olemann and Tarjan was that if you have an object, any sequence of M union and find operations will touch the array at most, the constant of N plus M log star N times.</p>
<p>109<br>00:10:15,940 –&gt; 00:10:18,940<br>And our log star N is kind of a funny function.</p>
<p>110<br>00:10:18,940 –&gt; 00:10:26,940<br>It’s the number of times you have to take the log of N to get one in the way to, it’s called the iterated log function.</p>
<p>111<br>00:10:26,940 –&gt; 00:10:38,940<br>And in the real world, it’s best to think of that as a number less than five because log star of two to the 65536 power is five.</p>
<p>112<br>00:10:38,940 –&gt; 00:10:48,940<br>So that means that the running time of weighted quid union with path compression is going to be linear in the real world.</p>
<p>113<br>00:10:48,940 –&gt; 00:10:59,940<br>And actually can be improved to even a more interesting function called the Ackerman function, which is even more slowly growing than log star.</p>
<p>114<br>00:10:59,940 –&gt; 00:11:12,940<br>And another point about this is it’s seen this is so close to being linear that is time proportional to N instead of time proportional to N times a slowly growing function in N.</p>
<p>115<br>00:11:12,940 –&gt; 00:11:16,940<br>Is there a simple algorithm that is linear?</p>
<p>116<br>00:11:16,940 –&gt; 00:11:26,940<br>And people look for a long time for that and actually it works out to be the case that we can prove that there is no such algorithm.</p>
<p>117<br>00:11:26,940 –&gt; 00:11:43,940<br>So there’s a lot of theory that goes behind the algorithms that we use and it’s important for us to know that theory and that will help us decide how to choose which algorithms we’re going to use in practice and where to concentrate our effort in trying to find better algorithms.</p>
<p>118<br>00:11:43,940 –&gt; 00:11:54,940<br>It’s an amazing fact that was eventually proved by Fredman and Sachs that there is no linear time algorithm for the union fine problem.</p>
<p>119<br>00:11:54,940 –&gt; 00:12:03,940<br>But weighted quick reunion with path compression in practice is close enough that it’s going to enable the solution of huge problems.</p>
<p>120<br>00:12:03,940 –&gt; 00:12:11,940<br>So that’s our summary for algorithms for solving the dynamic connectivity problem.</p>
<p>121<br>00:12:11,940 –&gt; 00:12:19,940<br>With using weighted quick union and with path compression we can solve problems that could not otherwise be addressed.</p>
<p>122<br>00:12:19,940 –&gt; 00:12:30,940<br>For example, if you have a billion operations on a billion objects, I said before it might take 30 years, we can do it in six seconds.</p>
<p>123<br>00:12:30,940 –&gt; 00:12:39,940<br>And what’s most important to recognize about this is that it’s the algorithm design that enables the solution of the problem.</p>
<p>124<br>00:12:39,940 –&gt; 00:12:49,940<br>Faster computer wouldn’t help much. You could spend millions on a supercomputer and maybe you could get it done in six years instead of 30 or in two months.</p>
<p>125<br>00:12:49,940 –&gt; 00:12:54,940<br>But with a fast algorithm you can do it seconds in seconds on your own PC.</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>PrincetonAlgorithms P5Part12 06_quick Union Improvements</div>
      <div>http://example.com/2025/10/23/PrincetonAlgorithms P5Part12-06_quick-union-improvements/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>John Doe</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2025年10月23日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2025/10/23/PrincetonAlgorithms%20P59Part113-05_symbol-table-applications-sparse-vectors-optional/" title="PrincetonAlgorithms P59Part113 05_symbol Table Applications Sparse Vectors Optional">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">PrincetonAlgorithms P59Part113 05_symbol Table Applications Sparse Vectors Optional</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2025/10/23/PrincetonAlgorithms%20P60Part21-03_course-introduction/" title="PrincetonAlgorithms P60Part21 03_course Introduction">
                        <span class="hidden-mobile">PrincetonAlgorithms P60Part21 03_course Introduction</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
