

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  
    <meta name="description" content="100:00:00,000 –&gt; 00:00:09,000In this video, we’re going to start our discussion of garbage collection or automatic memory management. 200:00:09,000 –&gt; 00:00:14,000This will take us a few videos">
<meta property="og:type" content="article">
<meta property="og:title" content="CS143 P113Week917 01 Automatic Memory Management">
<meta property="og:url" content="http://example.com/2025/10/25/CS143%20P113Week917-01-automatic-memory-management/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="100:00:00,000 –&gt; 00:00:09,000In this video, we’re going to start our discussion of garbage collection or automatic memory management. 200:00:09,000 –&gt; 00:00:14,000This will take us a few videos">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2025-10-25T07:38:14.386Z">
<meta property="article:modified_time" content="2025-10-25T07:40:49.217Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary_large_image">
  
  
  
  <title>CS143 P113Week917 01 Automatic Memory Management - Hexo</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 8.0.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Fluid</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="CS143 P113Week917 01 Automatic Memory Management"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2025-10-25 15:38" pubdate>
          2025年10月25日 下午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          1.1k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          10 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">CS143 P113Week917 01 Automatic Memory Management</h1>
            
            
              <div class="markdown-body">
                
                <p>1<br>00:00:00,000 –&gt; 00:00:09,000<br>In this video, we’re going to start our discussion of garbage collection or automatic memory management.</p>
<p>2<br>00:00:09,000 –&gt; 00:00:14,000<br>This will take us a few videos to get through, and this first video is just an overview of the problem,</p>
<p>3<br>00:00:14,000 –&gt; 00:00:18,000<br>and then we’ll talk about specific techniques in subsequent videos.</p>
<p>4<br>00:00:21,000 –&gt; 00:00:25,000<br>To set the stage, let’s first talk about the problem that we’re trying to solve.</p>
<p>5<br>00:00:25,000 –&gt; 00:00:32,000<br>If one has to manage memory manually, meaning you have to do all the allocation and deallocation explicitly yourself,</p>
<p>6<br>00:00:32,000 –&gt; 00:00:39,000<br>that is a hard way to program and leads to certain kinds of bugs that are very difficult to eliminate from programs.</p>
<p>7<br>00:00:39,000 –&gt; 00:00:44,000<br>In particular, these days, you see this primarily in C and C++ programs.</p>
<p>8<br>00:00:44,000 –&gt; 00:00:48,000<br>Those are the main languages that are used that have manual memory management.</p>
<p>9<br>00:00:48,000 –&gt; 00:00:55,000<br>The kind of storage bugs that you can get because it has manual memory management are things like forgetting to free unused memory,</p>
<p>10<br>00:00:55,000 –&gt; 00:01:03,000<br>so that’s a means of memory leak, dereferencing dangling pointers, overriding parts of a data structure unintentionally,</p>
<p>11<br>00:01:03,000 –&gt; 00:01:08,000<br>and actually there’s a few more things, although these are probably the three most common problems that people have.</p>
<p>12<br>00:01:08,000 –&gt; 00:01:12,000<br>These bugs are really hard to find, and I want to emphasize that.</p>
<p>13<br>00:01:12,000 –&gt; 00:01:19,000<br>These kinds of bugs are often some of the very, very last bugs to be found in complex systems.</p>
<p>14<br>00:01:19,000 –&gt; 00:01:26,000<br>They often persist into production, and sometimes for a very long time after the code is in production use.</p>
<p>15<br>00:01:26,000 –&gt; 00:01:35,000<br>And why is that? The reason is that these kinds of bugs, storage bugs, typically have effects that are far away in time and space from the source.</p>
<p>16<br>00:01:35,000 –&gt; 00:01:46,000<br>So, how can that happen? Well, let’s think about some object in memory, and now let’s say, you know, that this thing might have some fields.</p>
<p>17<br>00:01:46,000 –&gt; 00:01:50,000<br>Let’s say it has a few fields, and I’m keeping some pointers to it.</p>
<p>18<br>00:01:50,000 –&gt; 00:01:54,000<br>So somewhere in the program, there’s a reference to this particular object.</p>
<p>19<br>00:01:54,000 –&gt; 00:02:01,000<br>And now I come along and free it. So I’m doing manual memory management, so I free this object, but I forget that I had this pointer.</p>
<p>20<br>00:02:01,000 –&gt; 00:02:08,000<br>And so now what’s happened? Well, this storage has been freed. It’s no longer really valid memory, but the pointer still exists to it.</p>
<p>21<br>00:02:08,000 –&gt; 00:02:13,000<br>And then when I come along and allocate something else, it might allocate the same piece of memory.</p>
<p>22<br>00:02:13,000 –&gt; 00:02:17,000<br>So this might now be a different kind of object.</p>
<p>23<br>00:02:17,000 –&gt; 00:02:20,000<br>Okay, so I might have a different type here, even.</p>
<p>24<br>00:02:20,000 –&gt; 00:02:27,000<br>This memory might be used for something completely different, and now I have a pointer that says it thinks it’s a red object.</p>
<p>25<br>00:02:27,000 –&gt; 00:02:33,000<br>It’s pointing to a blue object. And when I come in and write stuff into this object, of course, I’m just writing nonsense.</p>
<p>26<br>00:02:33,000 –&gt; 00:02:38,000<br>So this whatever piece of code holds this pointer thinks it’s still the old kind of object.</p>
<p>27<br>00:02:38,000 –&gt; 00:02:45,000<br>It’ll write some bits in here. And when I go in some other part of the program, possibly quite far away, go out and read out.</p>
<p>28<br>00:02:45,000 –&gt; 00:02:53,000<br>This is a blue object. I’ll just get some random garbage, and that will probably cause my program to crash.</p>
<p>29<br>00:02:53,000 –&gt; 00:03:01,000<br>So this is a very, very old problem. It’s been studied since at least the 1950s. It was first thought about carefully in the list.</p>
<p>30<br>00:03:01,000 –&gt; 00:03:08,000<br>And there are some well known techniques for completely automatic memory management. So you don’t have to manage memory yourself.</p>
<p>31<br>00:03:08,000 –&gt; 00:03:20,000<br>And this only became mainstream actually in the 1990s. So with the popularity of Java, prior to that time, there was really no mainstream language that used automatic memory management.</p>
<p>32<br>00:03:20,000 –&gt; 00:03:32,000<br>So it’s really just in the last now almost 20 years that that garbage collection and automatic memory management in general became a popular mainstream programming technique.</p>
<p>33<br>00:03:32,000 –&gt; 00:03:43,000<br>So the basic strategy in automatic memory management is pretty simple. So when an object is created, when we allocate a new object, the system, the runtime system, we’ll find some unused space for that object.</p>
<p>34<br>00:03:43,000 –&gt; 00:03:57,000<br>And it will just allocate it. So whenever you say new of some class name in cool, some memory is automatically allocated by the system, some previously unused memory is automatically allocated by the system for that object.</p>
<p>35<br>00:03:57,000 –&gt; 00:04:08,000<br>And if you keep doing this over and over again, and after a while, you’re going to run out of space. So eventually, there is no more unused space left for additional objects.</p>
<p>36<br>00:04:08,000 –&gt; 00:04:26,000<br>And at that point, you have to do something. You have to have to reclaim some of the space in order to allocate more objects. And the observation that garbage collection systems rely upon is that some of the space is being used is probably occupied by objects that will never be used again.</p>
<p>37<br>00:04:26,000 –&gt; 00:04:42,000<br>So some of these objects are not going to be referred to again by the program. And if we can figure out which objects those are, which of which objects are not no longer going to be used, then we can deallocate them and reuse this space for new objects.</p>
<p>38<br>00:04:42,000 –&gt; 00:05:01,000<br>So the big question is how can we know that an object will never be used again. And most of the garbage collection techniques that are out there today rely on the following observation, then that’s that a program can only use the objects that they can find. And what do we mean by that? So I’m going to switch colors.</p>
<p>39<br>00:05:01,000 –&gt; 00:05:08,000<br>So let’s take a look at this piece of code. So what’s going to happen? Well, when we execute this, the first thing that happens is we allocate an a object.</p>
<p>40<br>00:05:08,000 –&gt; 00:05:29,000<br>And it’s assigned X. So X will have a pointer to that object. And then in the body of this let what’s going to happen, well, we’re going to assign X of the value that Y points to. So Y is another variable. It points to some other object in memory.</p>
<p>41<br>00:05:29,000 –&gt; 00:05:46,000<br>And what’s going to happen when we execute this assignment is that we’re going to remove the old value of X and X is now going to point to this object. Now observe that this object A is unreachable.</p>
<p>42<br>00:05:46,000 –&gt; 00:06:01,000<br>Meaning it has no references to it. There are no longer any pointers to it. And how do I know that? Well, it was brand new here when it was created. I only created one pointer to it X. And then I immediately assigned X to something else. So I dropped the only pointer day.</p>
<p>43<br>00:06:01,000 –&gt; 00:06:18,000<br>There’s no reference to A anywhere in the program. And so the program will never be able to find it again. There’s the program if no variable or data structure in the program has a pointer to A, then A can never be referred to by the program in the future.</p>
<p>44<br>00:06:18,000 –&gt; 00:06:29,000<br>So I kind of subsequent execution program has no pointers to A. And therefore, we’ll never use it again. And so the space for it could be reclaimed and used for another object.</p>
<p>45<br>00:06:29,000 –&gt; 00:06:41,000<br>Now it turns out that we need a more general definition of object reachability than this example illustrates. So let’s take a look at that. We’re going to say that an object X is reachable if and only if one of the following two things is true.</p>
<p>46<br>00:06:41,000 –&gt; 00:06:58,000<br>So either a register contains a pointer to X. So either the X is reachable immediately from some register. Remember that the registers contain things like the local variables in there and the intermediate expressions. And they’re just, you know, the values that the program has immediate access to.</p>
<p>47<br>00:06:58,000 –&gt; 00:07:11,000<br>Or another reachable object Y contains a pointer to X. And so what does this say? Well, this is you’re going to start at the registers. So, you know, the program might be implemented using a few registers.</p>
<p>48<br>00:07:11,000 –&gt; 00:07:23,000<br>And then you’re going to look at all the things that those registers point to all the objects that they point to. And you will look at the pointers in those objects and everything they can point to.</p>
<p>49<br>00:07:23,000 –&gt; 00:07:33,000<br>Okay. And some of these things might overlap. I mean, some of these there might be multiple things which are reachable by more than one past starting at the registers.</p>
<p>50<br>00:07:33,000 –&gt; 00:07:47,000<br>But the complete set of things that you can reach beginning at the registers and following all possible pointers. Those are all the reachable objects. And then the complement of that set and unreachable object is one that isn’t reachable.</p>
<p>51<br>00:07:47,000 –&gt; 00:08:00,000<br>So all the other objects, the ones that you were not able to reach by recursively starting at registers and following pointers as far as you could. Those objects can never be used because clearly the implementation can only access things through registers.</p>
<p>52<br>00:08:00,000 –&gt; 00:08:14,000<br>And, and then only find additional things by, you know, loading pointers out of objects that you can reach from the registers. So anything that it can’t reach by some sequence of sub steps will never be used again and is garbage.</p>
<p>53<br>00:08:14,000 –&gt; 00:08:24,000<br>So let’s take a look at another example that illustrates some interesting aspects of reachability and its use in automatic memory management.</p>
<p>54<br>00:08:24,000 –&gt; 00:08:32,000<br>So what does this example do? The first thing it does, it allocates an a object on the heap and assigns that to the variable X.</p>
<p>55<br>00:08:32,000 –&gt; 00:08:37,000<br>So X as a pointer to that object. And then it allocates a b object.</p>
<p>56<br>00:08:37,000 –&gt; 00:08:46,000<br>And Y will point to that object. And then it assigns the value of Y to X.</p>
<p>57<br>00:08:46,000 –&gt; 00:08:55,000<br>Alright, so we have this configuration. And now let’s draw a line here.</p>
<p>58<br>00:08:55,000 –&gt; 00:09:00,000<br>Okay, and we’ll come back and remember this point in time. What things look like at this point in time.</p>
<p>59<br>00:09:00,000 –&gt; 00:09:06,000<br>And then we’re going to go off and we’re going to execute this conditional. And notice what this conditional is going to do.</p>
<p>60<br>00:09:06,000 –&gt; 00:09:14,000<br>It’s going to always be true. Alright, so the predicate will always be true. So it’ll never take the false branch. All it’s going to ever do is take the true branch. And what’s it going to do there?</p>
<p>61<br>00:09:14,000 –&gt; 00:09:21,000<br>It’s immediately going to override X. And so X is going to wind up pointing at some other new object. Doesn’t matter what it is.</p>
<p>62<br>00:09:21,000 –&gt; 00:09:33,000<br>And now let’s say that at this point right here is where we try to do a garbage collection. So, you know, for some reason, this is the point where the program stops and tries to collect unused memory.</p>
<p>63<br>00:09:33,000 –&gt; 00:09:39,000<br>And what can it collect? Well, just like before, because example up to this point is essentially the same.</p>
<p>64<br>00:09:39,000 –&gt; 00:09:48,000<br>We can see that this object is unreachable. Okay, so the first A object becomes unreachable at that point. And it can be collected.</p>
<p>65<br>00:09:48,000 –&gt; 00:09:58,000<br>Now what about the second object? Well, it is reachable. It’s clearly reachable. It’s reachable through X. Okay, at that point. And it’s also reachable as it happens through Y.</p>
<p>66<br>00:09:58,000 –&gt; 00:10:11,000<br>And so it’s not garbage. And it’s not going to be collected. But notice that the X value is always going to be overwritten. Okay, so the program, the compiler doesn’t know that this branch is always going to be true.</p>
<p>67<br>00:10:11,000 –&gt; 00:10:21,000<br>So it doesn’t realize that the value that X has at this point won’t ever be used again. But that value is immediately going to be overwritten every time we take this conditional.</p>
<p>68<br>00:10:21,000 –&gt; 00:10:28,000<br>And furthermore, if Y is not used any place else in the program, if Y is dead at this point, let’s say that Y is dead here.</p>
<p>69<br>00:10:28,000 –&gt; 00:10:37,000<br>Then neither one of these references to be is ever going to be touched again. So in fact, the B value will never be used again, even though it is reachable.</p>
<p>70<br>00:10:37,000 –&gt; 00:10:44,000<br>And so what this tells you is that reachability is an approximation.</p>
<p>71<br>00:10:44,000 –&gt; 00:10:56,000<br>And by that I mean it’s an approximation for the objects that will never be used again. What we’re really interested in when we do garbage collection is collecting objects that will never be used in the future execution of the program.</p>
<p>72<br>00:10:56,000 –&gt; 00:11:03,000<br>Because obviously that space is wasted and could be put to some other use that might be better. And reachability approximates that.</p>
<p>73<br>00:11:03,000 –&gt; 00:11:12,000<br>So if an object is unreachable, it definitely won’t be used again. However, just because an object is reachable, it’s not a guarantee that it will be used again.</p>
<p>74<br>00:11:12,000 –&gt; 00:11:24,000<br>So now let’s talk about how we do garbage collection in cool C. So cool C has a fairly simple structure. It uses an accumulator, which of course points to an object and that object may point to other objects and so on.</p>
<p>75<br>00:11:24,000 –&gt; 00:11:41,000<br>So we can trace all the objects reachable from the accumulator, but we also have to worry about the stack pointer. So there’s also stuff reachable from the stack and each stack frame course may contain pointers like and for example, the method parameters that are stored on the stack.</p>
<p>76<br>00:11:41,000 –&gt; 00:11:52,000<br>Each stack frame may also contain some non pointers. So if I think about the layout of each activation record, there would be some mix of pointers and non pointers things like the return address.</p>
<p>77<br>00:11:52,000 –&gt; 00:12:02,000<br>So if I know the layout of the frame, but if we do know the layout, and of course the compiler is deciding on the layout, so it naturally does know the layout, it can find all the pointers in the frame.</p>
<p>78<br>00:12:02,000 –&gt; 00:12:11,000<br>So essentially the compiler has to keep a record for each kind of activation record it builds for each methods of an activation record for a method foo.</p>
<p>79<br>00:12:11,000 –&gt; 00:12:24,000<br>So if that activation record has four slots, then the compiler would need to keep track of which one of these were pointers to object and perhaps a second and the fourth element of the frame are always pointers to objects and the other two are always non pointers.</p>
<p>80<br>00:12:24,000 –&gt; 00:12:39,000<br>So the somewhere the compiler has to keep track of this information so that the garbage collector will know at runtime when it’s looking at an activation record for foo, where the pointers that it needs to follow are.</p>
<p>81<br>00:12:39,000 –&gt; 00:12:52,000<br>So in cool see we start tracing from the accumulator and the stack of these are called the roots, okay, so in garbage collector terminology, the roots are the registers from which you begin tracing out all the reachable objects.</p>
<p>82<br>00:12:52,000 –&gt; 00:12:58,000<br>And if we do that here, what we can do is you see here we have our object here we have our accumulator, excuse me, and our stack pointer.</p>
<p>83<br>00:12:58,000 –&gt; 00:13:12,000<br>And so we can just walk through this little diagram of memory and find all the reachable objects. So the accumulator points to object a, so we’ll mark that as reachable a points to see so we’ll mark it as reachable c points to e, so we’ll mark it as reachable.</p>
<p>84<br>00:13:12,000 –&gt; 00:13:24,000<br>The stack pointer has a couple of frames on it. The first frame has no pointers. The second frame points to e, you’ve already touched that one, it’s already marked, so we can mark it again, but it doesn’t matter as long as it gets marked by somebody.</p>
<p>85<br>00:13:24,000 –&gt; 00:13:33,000<br>And now everything that is not marked is unreachable. And so what objects didn’t we touch in our traversal of the reachable objects, well those are objects B and D.</p>
<p>86<br>00:13:33,000 –&gt; 00:13:47,000<br>And so those are unreachable objects and they can be reclaimed and we can reuse their storage. Now one interesting thing to note here is that just because an object has pointers to it does not mean it is reachable.</p>
<p>87<br>00:13:47,000 –&gt; 00:13:59,000<br>So notice here object D object D actually has a pointer to it. And yet object D is unreachable. And why is that? Well, because the only pointers to it are from other unreachable objects.</p>
<p>88<br>00:13:59,000 –&gt; 00:14:14,000<br>So it’s important here, just to understand that it’s not the case that every unreachable object has no pointers to it. There will be some unreachable objects where there may be some unreachable objects that actually do have pointers to it to them, but they will only come from other unreachable objects.</p>
<p>89<br>00:14:15,000 –&gt; 00:14:31,000<br>So our garb selection scheme has the following steps. We’re going to allocate space as needed for new objects. We just go ahead and allocate new space as long as we have space. So whenever we need it and when space runs out, we need to compute what objects might be used again.</p>
<p>90<br>00:14:31,000 –&gt; 00:14:43,000<br>Generally that’s done by tracing objects reachable from a set of root registers. And then we’re going to free the complement of that set. We’re going to free the space used by the objects not found in part A.</p>
<p>91<br>00:14:43,000 –&gt; 00:14:52,000<br>And well to say that some strategies do perform garbage collection before the space actually runs out and we’ll actually look at one of those in a future video.</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>CS143 P113Week917 01 Automatic Memory Management</div>
      <div>http://example.com/2025/10/25/CS143 P113Week917-01-automatic-memory-management/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>John Doe</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2025年10月25日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2025/10/25/CS143%20P112Week916-04-managing-caches/" title="CS143 P112Week916 04 Managing Caches">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">CS143 P112Week916 04 Managing Caches</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2025/10/25/CS143%20P114Week917-02-A+Mark+and+Sweep/" title="CS143 P114Week917 02 A+Mark+and+Sweep">
                        <span class="hidden-mobile">CS143 P114Week917 02 A+Mark+and+Sweep</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
