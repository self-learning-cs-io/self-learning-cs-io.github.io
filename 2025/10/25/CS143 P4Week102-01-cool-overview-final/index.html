

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  
    <meta name="description" content="100:00:00,000 –&gt; 00:00:09,800Hello, in this and the next few videos I’m going to be giving an overview of Cool, the programming 200:00:09,800 –&gt; 00:00:16,719language for which you’ll be writing">
<meta property="og:type" content="article">
<meta property="og:title" content="CS143 P4Week102 01 Cool Overview Final">
<meta property="og:url" content="http://example.com/2025/10/25/CS143%20P4Week102-01-cool-overview-final/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="100:00:00,000 –&gt; 00:00:09,800Hello, in this and the next few videos I’m going to be giving an overview of Cool, the programming 200:00:09,800 –&gt; 00:00:16,719language for which you’ll be writing">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2025-10-25T07:38:14.403Z">
<meta property="article:modified_time" content="2025-10-25T07:40:49.223Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary_large_image">
  
  
  
  <title>CS143 P4Week102 01 Cool Overview Final - Hexo</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 8.0.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Fluid</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="CS143 P4Week102 01 Cool Overview Final"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2025-10-25 15:38" pubdate>
          2025年10月25日 下午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          2.8k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          24 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">CS143 P4Week102 01 Cool Overview Final</h1>
            
            
              <div class="markdown-body">
                
                <p>1<br>00:00:00,000 –&gt; 00:00:09,800<br>Hello, in this and the next few videos I’m going to be giving an overview of Cool, the programming</p>
<p>2<br>00:00:09,800 –&gt; 00:00:16,719<br>language for which you’ll be writing a compiler.</p>
<p>3<br>00:00:16,719 –&gt; 00:00:23,800<br>Cool is the classroom object-oriented language, and the acronym of course is Cool.</p>
<p>4<br>00:00:23,800 –&gt; 00:00:29,679<br>And the unique design requirement for Cool is that the compiler has to be able to be written</p>
<p>5<br>00:00:29,679 –&gt; 00:00:31,440<br>in a relatively short period of time.</p>
<p>6<br>00:00:31,440 –&gt; 00:00:38,320<br>We only have one quarter or in some cases a semester for students to write the compilers.</p>
<p>7<br>00:00:38,320 –&gt; 00:00:43,000<br>And so Cool has to be implementable quickly.</p>
<p>8<br>00:00:43,000 –&gt; 00:00:48,960<br>And actually since it’s used primarily for teaching compilers, the number of Cool compilers</p>
<p>9<br>00:00:48,960 –&gt; 00:00:53,600<br>in the world vastly exceeds the number of Cool programs.</p>
<p>10<br>00:00:53,600 –&gt; 00:00:56,560<br>So there are many, many more compilers have been written.</p>
<p>11<br>00:00:56,560 –&gt; 00:00:59,960<br>There are many questions of compilers, maybe tens of thousands of compilers have been</p>
<p>12<br>00:00:59,960 –&gt; 00:01:04,799<br>written for Cool, but probably only some dozens or hundreds of Cool programs.</p>
<p>13<br>00:01:04,799 –&gt; 00:01:10,120<br>And so it’s probably the only language in existence for which this is true, that the number</p>
<p>14<br>00:01:10,120 –&gt; 00:01:13,760<br>of compilers actually exceeds the number of programs.</p>
<p>15<br>00:01:13,760 –&gt; 00:01:16,359<br>But it does tell you about the main design requirement.</p>
<p>16<br>00:01:16,359 –&gt; 00:01:21,439<br>It’s much more important in Cool that the compiler would be easy to write than that it would</p>
<p>17<br>00:01:21,439 –&gt; 00:01:23,320<br>be easy to write programs in.</p>
<p>18<br>00:01:23,319 –&gt; 00:01:28,639<br>And so there are some quirks in the language, things that have been done specifically to</p>
<p>19<br>00:01:28,639 –&gt; 00:01:35,519<br>make it easier to implement, where that wouldn’t take away from the teaching value of the</p>
<p>20<br>00:01:35,519 –&gt; 00:01:40,159<br>language, but that would make it inconvenient to use the language on a day-to-day basis as</p>
<p>21<br>00:01:40,159 –&gt; 00:01:43,119<br>a working programmer.</p>
<p>22<br>00:01:43,119 –&gt; 00:01:44,280<br>So what is in the language?</p>
<p>23<br>00:01:44,280 –&gt; 00:01:49,159<br>Well, we’ve tried to design it so that it would give you a taste of modern notions of</p>
<p>24<br>00:01:49,159 –&gt; 00:01:53,959<br>abstraction, static typing, reuse through inheritance, automatic memory management.</p>
<p>25<br>00:01:53,959 –&gt; 00:01:58,840<br>And there’s actually a few more things that we’ll talk about when we come to them.</p>
<p>26<br>00:01:58,840 –&gt; 00:02:00,399<br>But many things are left out.</p>
<p>27<br>00:02:00,399 –&gt; 00:02:03,799<br>We’re not going to be able to put everything in the language and have it be implementable</p>
<p>28<br>00:02:03,799 –&gt; 00:02:04,799<br>quickly.</p>
<p>29<br>00:02:04,799 –&gt; 00:02:09,400<br>We’ll be able to cover some things in the lectures, but unfortunately there’ll even be some interesting</p>
<p>30<br>00:02:09,400 –&gt; 00:02:16,199<br>language ideas that we won’t be able to get to in this class.</p>
<p>31<br>00:02:16,199 –&gt; 00:02:19,280<br>So the course project is to build a complete compiler.</p>
<p>32<br>00:02:19,280 –&gt; 00:02:24,239<br>And specifically you’re going to compile cool into MIPS assembly language.</p>
<p>33<br>00:02:24,239 –&gt; 00:02:27,159<br>So MIPS is a real instruction set.</p>
<p>34<br>00:02:27,159 –&gt; 00:02:30,399<br>It was for a machine that was designed in the 1980s.</p>
<p>35<br>00:02:30,399 –&gt; 00:02:34,439<br>And there is a simulator for MIPS that runs on just about any kind of hardware.</p>
<p>36<br>00:02:34,439 –&gt; 00:02:37,319<br>And so this makes the whole project very portable.</p>
<p>37<br>00:02:37,319 –&gt; 00:02:39,799<br>We can run your compiler.</p>
<p>38<br>00:02:39,799 –&gt; 00:02:42,319<br>You can generate MIPS assembly language.</p>
<p>39<br>00:02:42,319 –&gt; 00:02:45,679<br>And then that MIPS assembly language can be simulated on just about whatever kind of</p>
<p>40<br>00:02:45,680 –&gt; 00:02:48,159<br>machine you have access to.</p>
<p>41<br>00:02:48,159 –&gt; 00:02:50,760<br>The project is broken up into five assignments.</p>
<p>42<br>00:02:50,760 –&gt; 00:02:53,200<br>First you’re going to write a cool program.</p>
<p>43<br>00:02:53,200 –&gt; 00:02:56,439<br>And that program itself will be an interpreter to give you a little bit of experience with</p>
<p>44<br>00:02:56,439 –&gt; 00:02:57,800<br>writing a simple interpreter.</p>
<p>45<br>00:02:57,800 –&gt; 00:03:03,600<br>And then the compiler itself will consist of the four phases that we discussed, lexical</p>
<p>46<br>00:03:03,600 –&gt; 00:03:07,319<br>analysis, parsing, semantic analysis, and code generation.</p>
<p>47<br>00:03:07,319 –&gt; 00:03:11,240<br>And all of these phases I should emphasize are plug compatible.</p>
<p>48<br>00:03:11,240 –&gt; 00:03:16,120<br>Meaning that we have separate implementations, separate reference implementations of each</p>
<p>49<br>00:03:16,120 –&gt; 00:03:17,200<br>of these.</p>
<p>50<br>00:03:17,200 –&gt; 00:03:21,800<br>And so for example, when you are working on semantic analysis, you’ll be able to take the</p>
<p>51<br>00:03:21,800 –&gt; 00:03:28,160<br>lexical analysis, parsing, and code generation components from the reference compiler and</p>
<p>52<br>00:03:28,160 –&gt; 00:03:35,520<br>plug your semantic analysis into that framework and test it against the reference components.</p>
<p>53<br>00:03:35,520 –&gt; 00:03:39,400<br>And so this way if you have trouble with one component or aren’t sure that one of your</p>
<p>54<br>00:03:39,400 –&gt; 00:03:43,800<br>components is working very well, you won’t have a problem in working on a different component</p>
<p>55<br>00:03:43,800 –&gt; 00:03:46,719<br>because you’re able to test that independently.</p>
<p>56<br>00:03:46,719 –&gt; 00:03:52,879<br>And finally, there’s no required optimization assignment, but we do have some suggestions</p>
<p>57<br>00:03:52,879 –&gt; 00:03:55,040<br>for optimizations that you can do.</p>
<p>58<br>00:03:55,040 –&gt; 00:03:59,560<br>And many people have written optimizations for cool.</p>
<p>59<br>00:03:59,560 –&gt; 00:04:05,040<br>And so this is an optional assignment if you’re interested in learning something about</p>
<p>60<br>00:04:05,040 –&gt; 00:04:06,080<br>program optimization.</p>
<p>61<br>00:04:10,400 –&gt; 00:04:16,720<br>So let’s write the simplest possible cool program.</p>
<p>62<br>00:04:16,720 –&gt; 00:04:22,280<br>And the first thing to know is that cool source files end in the extension.cl for cool.</p>
<p>63<br>00:04:22,280 –&gt; 00:04:25,560<br>And you can use whatever editor you like to write your programs.</p>
<p>64<br>00:04:25,560 –&gt; 00:04:28,560<br>I happen to use Emacs.</p>
<p>65<br>00:04:28,560 –&gt; 00:04:31,120<br>You can use some other editor if you like.</p>
<p>66<br>00:04:31,120 –&gt; 00:04:37,360<br>And every cool program has to have a class called main.</p>
<p>67<br>00:04:37,360 –&gt; 00:04:40,199<br>And let’s talk about that for a second.</p>
<p>68<br>00:04:40,199 –&gt; 00:04:44,439<br>So a class declaration in cool begins with the keyword class followed by the name of the</p>
<p>69<br>00:04:44,439 –&gt; 00:04:45,439<br>class.</p>
<p>70<br>00:04:45,439 –&gt; 00:04:50,480<br>So in this case main followed by a pair of curly braces.</p>
<p>71<br>00:04:50,480 –&gt; 00:04:55,560<br>And inside the curly braces is where all the stuff that belongs to the class goes.</p>
<p>72<br>00:04:55,560 –&gt; 00:04:59,280<br>And every class declaration must be terminated by a semicolon.</p>
<p>73<br>00:04:59,280 –&gt; 00:05:06,360<br>So a program consists of a list of class declarations each class declaration terminated by a semicolon.</p>
<p>74<br>00:05:06,360 –&gt; 00:05:09,040<br>So that’s the structure of a class.</p>
<p>75<br>00:05:09,040 –&gt; 00:05:12,360<br>And now we need this class to actually do something.</p>
<p>76<br>00:05:12,360 –&gt; 00:05:15,120<br>So we’re going to have a method in this class.</p>
<p>77<br>00:05:15,120 –&gt; 00:05:18,040<br>And let’s call the method main.</p>
<p>78<br>00:05:18,040 –&gt; 00:05:22,639<br>In fact, the main method of the main class must always exist.</p>
<p>79<br>00:05:22,639 –&gt; 00:05:25,840<br>This is the method that’s run to start the program.</p>
<p>80<br>00:05:25,840 –&gt; 00:05:28,400<br>And furthermore, this method must take no arguments.</p>
<p>81<br>00:05:28,400 –&gt; 00:05:32,720<br>So the argument list for the main method is always empty.</p>
<p>82<br>00:05:32,720 –&gt; 00:05:35,960<br>And let’s say the main method.</p>
<p>83<br>00:05:35,960 –&gt; 00:05:39,640<br>It’s body always goes in a pair of curly braces.</p>
<p>84<br>00:05:39,640 –&gt; 00:05:42,600<br>So the main method always goes inside curly braces.</p>
<p>85<br>00:05:42,600 –&gt; 00:05:46,400<br>And a class consists of a list of such declarations.</p>
<p>86<br>00:05:46,400 –&gt; 00:05:50,480<br>And again, those declarations must all be separated by semicolon.</p>
<p>87<br>00:05:50,480 –&gt; 00:05:53,200<br>So in or terminate, excuse me, by semicolons.</p>
<p>88<br>00:05:53,200 –&gt; 00:05:58,760<br>So in this case, we only have one method in the class, but still has to have it semicolon.</p>
<p>89<br>00:05:58,760 –&gt; 00:06:00,920<br>And now we can say what we want the method to actually do.</p>
<p>90<br>00:06:00,920 –&gt; 00:06:03,800<br>So this is the place where the code for the method goes.</p>
<p>91<br>00:06:03,800 –&gt; 00:06:08,480<br>And let’s just have the simplest possible method, the one that just evaluates to the number</p>
<p>92<br>00:06:08,480 –&gt; 00:06:09,480<br>one.</p>
<p>93<br>00:06:09,480 –&gt; 00:06:10,800<br>OK?</p>
<p>94<br>00:06:10,800 –&gt; 00:06:17,680<br>So the cool is an expression language, which means that wherever a piece of code can go,</p>
<p>95<br>00:06:17,680 –&gt; 00:06:19,240<br>you can put an arbitrary expression.</p>
<p>96<br>00:06:19,240 –&gt; 00:06:21,280<br>Any expression can go there.</p>
<p>97<br>00:06:21,280 –&gt; 00:06:24,560<br>There’s no explicit return statement for a method.</p>
<p>98<br>00:06:24,560 –&gt; 00:06:27,960<br>It’s just the value of the method body is the value of the method.</p>
<p>99<br>00:06:27,960 –&gt; 00:06:30,280<br>So in this case, we just put the number one in there.</p>
<p>100<br>00:06:30,279 –&gt; 00:06:33,399<br>And that will be the value of this method when we run it.</p>
<p>101<br>00:06:33,399 –&gt; 00:06:35,799<br>So let’s save that.</p>
<p>102<br>00:06:35,799 –&gt; 00:06:40,199<br>And now we can try compiling this simple program.</p>
<p>103<br>00:06:40,199 –&gt; 00:06:41,759<br>So how do we compile?</p>
<p>104<br>00:06:41,759 –&gt; 00:06:45,239<br>The compiler is called cool c for the cool compiler.</p>
<p>105<br>00:06:45,239 –&gt; 00:06:50,479<br>And you just give the cool compiler a list of cool source files.</p>
<p>106<br>00:06:50,479 –&gt; 00:06:53,159<br>So in this case, there’s just one file, one dot CL.</p>
<p>107<br>00:06:53,159 –&gt; 00:06:57,319<br>Hit enter and we got a syntax error.</p>
<p>108<br>00:06:57,319 –&gt; 00:07:00,039<br>So we have to come back and fix that.</p>
<p>109<br>00:07:00,040 –&gt; 00:07:08,120<br>The error says that app or near the open curly brace, online three, there is a mistake.</p>
<p>110<br>00:07:08,120 –&gt; 00:07:11,960<br>And I know what the mistake is because I’m a competent cool programmer, at least somewhat</p>
<p>111<br>00:07:11,960 –&gt; 00:07:14,120<br>competent cool programmer.</p>
<p>112<br>00:07:14,120 –&gt; 00:07:16,960<br>Cool methods must declare their return types.</p>
<p>113<br>00:07:16,960 –&gt; 00:07:18,879<br>So we need to put a type here.</p>
<p>114<br>00:07:18,879 –&gt; 00:07:22,360<br>And the syntax for the declaration is to put a colon after the name of the method and</p>
<p>115<br>00:07:22,360 –&gt; 00:07:23,720<br>the argument list.</p>
<p>116<br>00:07:23,720 –&gt; 00:07:24,720<br>And then the name of a type.</p>
<p>117<br>00:07:24,720 –&gt; 00:07:30,840<br>And since we’re returning the number one for this program, sorry for this method, we might</p>
<p>118<br>00:07:30,840 –&gt; 00:07:35,200<br>as well say that the main method is going to return an integer.</p>
<p>119<br>00:07:35,200 –&gt; 00:07:37,880<br>So save that.</p>
<p>120<br>00:07:37,880 –&gt; 00:07:43,640<br>Go back over to our compilation window and let’s compile the program again.</p>
<p>121<br>00:07:43,640 –&gt; 00:07:45,600<br>And this time it compiled successfully.</p>
<p>122<br>00:07:45,600 –&gt; 00:07:52,800<br>And now if we look in our directory, we see that there is a new file called one dot s.</p>
<p>123<br>00:07:52,800 –&gt; 00:07:56,240<br>That’s the assembly code for the program one.</p>
<p>124<br>00:07:56,240 –&gt; 00:07:59,000<br>And now we can try to run this code.</p>
<p>125<br>00:07:59,000 –&gt; 00:08:04,960<br>And the mips simulator is called spim.</p>
<p>126<br>00:08:04,960 –&gt; 00:08:10,319<br>And it just takes a assembly file to simulate.</p>
<p>127<br>00:08:10,319 –&gt; 00:08:14,560<br>And so we just give it one dot s hit enter and it’ll run a whole bunch of stuff is printed</p>
<p>128<br>00:08:14,560 –&gt; 00:08:15,879<br>out.</p>
<p>129<br>00:08:15,879 –&gt; 00:08:21,080<br>But as you can see, it says part way down that the cool program successfully executed.</p>
<p>130<br>00:08:21,080 –&gt; 00:08:22,080<br>So that’s good.</p>
<p>131<br>00:08:22,079 –&gt; 00:08:25,839<br>And then afterwards there are some statistics and things like number of instructions executed.</p>
<p>132<br>00:08:25,839 –&gt; 00:08:31,039<br>The number of loads and stores, number of branches, those things would be interesting if we’re</p>
<p>133<br>00:08:31,039 –&gt; 00:08:32,199<br>worried about performance.</p>
<p>134<br>00:08:32,199 –&gt; 00:08:37,319<br>If we were to say working on the optimization of the compiled code, but we’re not doing</p>
<p>135<br>00:08:37,319 –&gt; 00:08:39,319<br>that right now.</p>
<p>136<br>00:08:39,319 –&gt; 00:08:41,120<br>We’re just running programs.</p>
<p>137<br>00:08:41,120 –&gt; 00:08:42,399<br>And we can see that this program worked.</p>
<p>138<br>00:08:42,399 –&gt; 00:08:47,360<br>So the program ran and it terminates successfully, but it didn’t actually produce any output.</p>
<p>139<br>00:08:47,360 –&gt; 00:08:52,320<br>And that’s because we didn’t ask it to produce any output.</p>
<p>140<br>00:08:52,320 –&gt; 00:08:58,200<br>If we want to have output, we’d have to go back and modify the program again.</p>
<p>141<br>00:08:58,200 –&gt; 00:09:02,759<br>So what this program does currently is it just returns this value, but nothing is done</p>
<p>142<br>00:09:02,759 –&gt; 00:09:03,759<br>with that value.</p>
<p>143<br>00:09:03,759 –&gt; 00:09:05,680<br>It’s not printed out or anything like that.</p>
<p>144<br>00:09:05,680 –&gt; 00:09:10,800<br>If you want to have something printed out in a cool program, you have to do that explicitly.</p>
<p>145<br>00:09:10,800 –&gt; 00:09:16,240<br>So there’s a special class built in a primitive class called IO.</p>
<p>146<br>00:09:16,240 –&gt; 00:09:20,919<br>So we can declare a what’s called an attribute of this class.</p>
<p>147<br>00:09:20,919 –&gt; 00:09:23,680<br>There’ll be an IO attribute.</p>
<p>148<br>00:09:23,680 –&gt; 00:09:25,840<br>And it’ll be called I.</p>
<p>149<br>00:09:25,840 –&gt; 00:09:30,360<br>Okay, and I will be an object that we can use to do IO.</p>
<p>150<br>00:09:30,360 –&gt; 00:09:39,680<br>So now in our main method here, we could add a call to outstring.</p>
<p>151<br>00:09:39,680 –&gt; 00:09:43,480<br>I dot outstring is how we invoke a method.</p>
<p>152<br>00:09:43,480 –&gt; 00:09:45,519<br>So outstring is a method of the IO class.</p>
<p>153<br>00:09:45,519 –&gt; 00:09:48,879<br>And so we use I to invoke that method.</p>
<p>154<br>00:09:48,879 –&gt; 00:09:51,600<br>And then we can pass it a string that we want printed out on the screen.</p>
<p>155<br>00:09:51,600 –&gt; 00:09:55,560<br>So for example, we could say hello world.</p>
<p>156<br>00:10:02,840 –&gt; 00:10:09,279<br>And now we have to decide what to do with our number one there.</p>
<p>157<br>00:10:09,279 –&gt; 00:10:11,560<br>And let me show you one more feature of cool.</p>
<p>158<br>00:10:11,559 –&gt; 00:10:15,000<br>Let’s leave the one there and let’s make it part of a statement block.</p>
<p>159<br>00:10:15,000 –&gt; 00:10:20,279<br>So a statement block consists of a sequence of expressions separated by semicolons.</p>
<p>160<br>00:10:20,279 –&gt; 00:10:21,879<br>And you can have any number of expressions.</p>
<p>161<br>00:10:21,879 –&gt; 00:10:28,199<br>And the semantics of a statement block or an expression block is to just evaluate the expressions in order.</p>
<p>162<br>00:10:28,199 –&gt; 00:10:31,279<br>And the value of the block is the value of the last expression.</p>
<p>163<br>00:10:31,279 –&gt; 00:10:37,599<br>And now a statement or an expression block has to be included in its own set of curly braces.</p>
<p>164<br>00:10:37,599 –&gt; 00:10:40,439<br>Okay, so that now is a valid cool program.</p>
<p>165<br>00:10:40,440 –&gt; 00:10:42,520<br>So let me just read this for you.</p>
<p>166<br>00:10:42,520 –&gt; 00:10:46,560<br>So the body of the program is a block of expressions.</p>
<p>167<br>00:10:46,560 –&gt; 00:10:55,200<br>The first one executes a outstring call to the object guy, which is going to print hello world for us.</p>
<p>168<br>00:10:55,200 –&gt; 00:11:02,400<br>And then the second one evaluates to one, which is the value of the entire of the entire method.</p>
<p>169<br>00:11:02,400 –&gt; 00:11:04,960<br>Okay, actually, I should say it’s a value of the block.</p>
<p>170<br>00:11:04,960 –&gt; 00:11:05,840<br>Okay.</p>
<p>171<br>00:11:05,840 –&gt; 00:11:12,519<br>And then because the block is the body of the method, the value of the block becomes the value of the entire method.</p>
<p>172<br>00:11:12,519 –&gt; 00:11:15,680<br>So one will be returned from this method call.</p>
<p>173<br>00:11:15,680 –&gt; 00:11:16,639<br>So let’s save this.</p>
<p>174<br>00:11:19,600 –&gt; 00:11:22,680<br>Go back over here and let’s compile this again.</p>
<p>175<br>00:11:22,680 –&gt; 00:11:26,879<br>So it’s like I failed to save it.</p>
<p>176<br>00:11:27,879 –&gt; 00:11:36,879<br>So let’s compile this and we see we have a syntax error.</p>
<p>177<br>00:11:36,879 –&gt; 00:11:44,879<br>And so it says online for we have a syntax error at or near our closing curly brace.</p>
<p>178<br>00:11:44,879 –&gt; 00:11:55,879<br>And the problem here is that a statement block or an expression block consists of a series or a sequence of expressions terminated by some of the words.</p>
<p>179<br>00:11:55,879 –&gt; 00:12:03,879<br>Expression is terminated by some of the columns and we forgot to terminate the last expression in the sequence by its semicolon.</p>
<p>180<br>00:12:03,879 –&gt; 00:12:07,879<br>So we have to add that.</p>
<p>181<br>00:12:07,879 –&gt; 00:12:12,879<br>And now we should be able to compile this and lo and behold, it compiles correctly.</p>
<p>182<br>00:12:12,879 –&gt; 00:12:16,600<br>And then we can run it.</p>
<p>183<br>00:12:16,600 –&gt; 00:12:20,200<br>And now we see, oh, we got another mistake.</p>
<p>184<br>00:12:20,200 –&gt; 00:12:26,200<br>So we have on when the program ran, it complained that we have a dispatch to void.</p>
<p>185<br>00:12:26,200 –&gt; 00:12:32,200<br>So that online for our dispatch was to an object that didn’t exist.</p>
<p>186<br>00:12:32,200 –&gt; 00:12:35,200<br>And you can see the dispatch call right here to I.</p>
<p>187<br>00:12:35,200 –&gt; 00:12:41,200<br>And it doesn’t exist because in fact we forgot to allocate an object for I.</p>
<p>188<br>00:12:42,200 –&gt; 00:12:47,200<br>So here we declare I to be of type I, but that doesn’t actually create any objects.</p>
<p>189<br>00:12:47,200 –&gt; 00:12:52,200<br>I just says that this creates a variable name, I, but I doesn’t actually have a value.</p>
<p>190<br>00:12:52,200 –&gt; 00:12:57,200<br>So if you want I to actually have a value, we have to initialize it to something.</p>
<p>191<br>00:12:57,200 –&gt; 00:12:59,200<br>So we can initialize it to a new IO object.</p>
<p>192<br>00:12:59,200 –&gt; 00:13:06,200<br>And new here is the way that you allocate new objects in cool and new always takes a type argument.</p>
<p>193<br>00:13:06,200 –&gt; 00:13:12,200<br>So in this case, we’re creating a new object of type IO and we’re assigning it to this object I.</p>
<p>194<br>00:13:12,200 –&gt; 00:13:17,200<br>And notice here that I is a is a is what we call a field name in Java.</p>
<p>195<br>00:13:17,200 –&gt; 00:13:19,200<br>It’s what we call an attribute in cool.</p>
<p>196<br>00:13:19,200 –&gt; 00:13:25,200<br>So so these are the data, the data elements of the class.</p>
<p>197<br>00:13:25,200 –&gt; 00:13:35,200<br>And so the class can have both names of things that are sort of attributes or fields that hold values as well as methods that can perform computation.</p>
<p>198<br>00:13:36,200 –&gt; 00:13:40,200<br>So let’s save this and switch back.</p>
<p>199<br>00:13:40,200 –&gt; 00:13:45,200<br>And now we’ll compile this again.</p>
<p>200<br>00:13:45,200 –&gt; 00:13:50,200<br>So it extilt compiles and now we can run it.</p>
<p>201<br>00:13:50,200 –&gt; 00:13:58,200<br>And now it runs and low and behold, as you can see down there, third line from the top, it prints out hello world.</p>
<p>202<br>00:13:59,200 –&gt; 00:14:08,200<br>And that looks a little bit ugly because the successful execution message is on the same line as our hello world message.</p>
<p>203<br>00:14:08,200 –&gt; 00:14:10,200<br>So let’s fix that.</p>
<p>204<br>00:14:10,200 –&gt; 00:14:12,200<br>Let’s come back over here.</p>
<p>205<br>00:14:12,200 –&gt; 00:14:17,200<br>And in our string here, we can add a new line at the end of the string.</p>
<p>206<br>00:14:17,200 –&gt; 00:14:22,200<br>So backslash in is how you write a new line character in a string.</p>
<p>207<br>00:14:22,200 –&gt; 00:14:24,200<br>Save that. Come back over here.</p>
<p>208<br>00:14:25,200 –&gt; 00:14:26,200<br>Let’s compile.</p>
<p>209<br>00:14:26,200 –&gt; 00:14:36,200<br>So if you don’t know Unix, bang will repeat the previous expression, the previous command that began with the same prefix that you type after the bang.</p>
<p>210<br>00:14:36,200 –&gt; 00:14:40,200<br>So I want to run the last command that began with C, which is to compile.</p>
<p>211<br>00:14:40,200 –&gt; 00:14:44,200<br>And then I want to run the last command that began with S, which is to run spin.</p>
<p>212<br>00:14:44,200 –&gt; 00:14:47,200<br>And now we can see, ah, there it is, all nice.</p>
<p>213<br>00:14:47,200 –&gt; 00:14:50,200<br>Hello world is on a line by itself.</p>
<p>214<br>00:14:51,200 –&gt; 00:14:53,200<br>So let’s continue now.</p>
<p>215<br>00:14:53,200 –&gt; 00:14:56,200<br>Let’s clear all this out.</p>
<p>216<br>00:14:56,200 –&gt; 00:15:00,200<br>So let me just show you a few variations on the same program.</p>
<p>217<br>00:15:00,200 –&gt; 00:15:04,200<br>What I’m going to do here is just rewrite it in a couple of different ways.</p>
<p>218<br>00:15:04,200 –&gt; 00:15:12,200<br>So just to illustrate a few features of cool, and get you more familiar with the syntax and also just show some alternative ways to do the same thing.</p>
<p>219<br>00:15:13,200 –&gt; 00:15:24,200<br>So, you know, this, this block here of expressions is kind of a clumsy way to implement the hello world program.</p>
<p>220<br>00:15:24,200 –&gt; 00:15:25,200<br>So let’s get rid of that.</p>
<p>221<br>00:15:25,200 –&gt; 00:15:27,200<br>Let’s get rid of the block.</p>
<p>222<br>00:15:27,200 –&gt; 00:15:31,200<br>Let’s get rid of the one here at the end.</p>
<p>223<br>00:15:31,200 –&gt; 00:15:36,200<br>Okay, let’s just make the statement body a single expression again.</p>
<p>224<br>00:15:37,200 –&gt; 00:15:41,200<br>And now the problem we’re going to have is that the types won’t match.</p>
<p>225<br>00:15:41,200 –&gt; 00:15:44,200<br>But just to illustrate that, let me show it to you.</p>
<p>226<br>00:15:44,200 –&gt; 00:15:47,200<br>So let’s do cool C of 1.cl.</p>
<p>227<br>00:15:47,200 –&gt; 00:15:55,200<br>And you’ll see here that it complains that the inferred return type I owe of the method main does not conform to the declared return type int.</p>
<p>228<br>00:15:55,200 –&gt; 00:16:05,200<br>So coming back over here, the, to the program, the compiler figured out that this expression, i.outstring,</p>
<p>229<br>00:16:05,200 –&gt; 00:16:07,200<br>yields an object of type I owe.</p>
<p>230<br>00:16:07,200 –&gt; 00:16:11,200<br>So it returns the i object as the results evaluate this expression.</p>
<p>231<br>00:16:11,200 –&gt; 00:16:13,200<br>And that does not match the type int.</p>
<p>232<br>00:16:13,200 –&gt; 00:16:17,200<br>And so naturally the compiler says, hey, something’s wrong with the types.</p>
<p>233<br>00:16:17,200 –&gt; 00:16:18,200<br>Well, that’s easily repaired.</p>
<p>234<br>00:16:18,200 –&gt; 00:16:24,200<br>We can just change the return type of the main method to say it returns something of type I owe.</p>
<p>235<br>00:16:24,200 –&gt; 00:16:29,200<br>So let’s go back over here and see that that now works.</p>
<p>236<br>00:16:29,200 –&gt; 00:16:33,200<br>So we compile the program.</p>
<p>237<br>00:16:33,200 –&gt; 00:16:36,200<br>And then we run spin on the output.</p>
<p>238<br>00:16:36,200 –&gt; 00:16:39,200<br>And yes, everything still works as expected.</p>
<p>239<br>00:16:39,200 –&gt; 00:16:42,200<br>Now we don’t have to be so specific about the type over here.</p>
<p>240<br>00:16:42,200 –&gt; 00:16:46,200<br>Since we’re not actually using the result of the method body for anything.</p>
<p>241<br>00:16:46,200 –&gt; 00:16:50,200<br>I mean, the program just exits once it prints the string.</p>
<p>242<br>00:16:50,200 –&gt; 00:16:53,200<br>We could have allowed ourselves more flexibility here.</p>
<p>243<br>00:16:53,200 –&gt; 00:16:57,200<br>We could have just declared the result type of main to be of type object.</p>
<p>244<br>00:16:57,200 –&gt; 00:17:01,200<br>So object is the root of the class hierarchy in cool.</p>
<p>245<br>00:17:01,200 –&gt; 00:17:05,200<br>Every other class is a subclass of object.</p>
<p>246<br>00:17:05,200 –&gt; 00:17:07,200<br>So let’s come back over here.</p>
<p>247<br>00:17:07,200 –&gt; 00:17:08,200<br>Let’s save this first.</p>
<p>248<br>00:17:08,200 –&gt; 00:17:11,200<br>And then we can come back over to our compilation window.</p>
<p>249<br>00:17:11,200 –&gt; 00:17:14,200<br>We can compile it.</p>
<p>250<br>00:17:14,200 –&gt; 00:17:16,200<br>And we can run it.</p>
<p>251<br>00:17:16,200 –&gt; 00:17:18,200<br>And it still works.</p>
<p>252<br>00:17:18,200 –&gt; 00:17:24,200<br>So now another thing we can do if we want is we could observe.</p>
<p>253<br>00:17:24,200 –&gt; 00:17:30,200<br>Here that this attribute that we declare this field I isn’t really necessary here.</p>
<p>254<br>00:17:30,200 –&gt; 00:17:35,200<br>We allocate, you know, we have a special name I.</p>
<p>255<br>00:17:35,200 –&gt; 00:17:39,200<br>When the main object is constructed to run the program.</p>
<p>256<br>00:17:39,200 –&gt; 00:17:42,200<br>A new IO object is allocated to I.</p>
<p>257<br>00:17:42,200 –&gt; 00:17:45,200<br>And then that gets used in the main method.</p>
<p>258<br>00:17:45,200 –&gt; 00:17:48,200<br>We can actually just do all of that inside the main method itself.</p>
<p>259<br>00:17:48,200 –&gt; 00:17:52,200<br>By just allocating a new IO object right here.</p>
<p>260<br>00:17:52,200 –&gt; 00:17:56,200<br>And then calling out string on that object.</p>
<p>261<br>00:17:56,200 –&gt; 00:18:00,200<br>So this should also work.</p>
<p>262<br>00:18:00,200 –&gt; 00:18:06,200<br>And let’s check it out.</p>
<p>263<br>00:18:06,200 –&gt; 00:18:08,200<br>So it compiles.</p>
<p>264<br>00:18:08,200 –&gt; 00:18:11,200<br>And low and behold it runs.</p>
<p>265<br>00:18:11,200 –&gt; 00:18:13,200<br>So coming back over here.</p>
<p>266<br>00:18:13,200 –&gt; 00:18:16,200<br>Let’s illustrate one more or a couple more things that we could do.</p>
<p>267<br>00:18:16,200 –&gt; 00:18:22,200<br>So we could also say that class main inherits from IO.</p>
<p>268<br>00:18:22,200 –&gt; 00:18:27,200<br>So we have to have the IO functionality somewhere in order to call the outstring method.</p>
<p>269<br>00:18:27,200 –&gt; 00:18:30,200<br>So we’ve been doing that by creating a separate object of type IO.</p>
<p>270<br>00:18:30,200 –&gt; 00:18:33,200<br>But now we could say well just the main object is itself.</p>
<p>271<br>00:18:33,200 –&gt; 00:18:38,200<br>And something that has all the capabilities of IO by inheriting from IO.</p>
<p>272<br>00:18:38,200 –&gt; 00:18:43,200<br>And if you’ve seen any object oriented language before this will be a familiar concept.</p>
<p>273<br>00:18:43,200 –&gt; 00:18:51,200<br>So main here gets all the attributes and methods of IO in addition to whatever attributes and methods of its own that it will have.</p>
<p>274<br>00:18:51,200 –&gt; 00:18:58,200<br>And now instead of having to allocate a new IO object in order to call out string.</p>
<p>275<br>00:18:58,200 –&gt; 00:19:04,200<br>We can just invoke it on self, which is the name of the current object when the main method runs.</p>
<p>276<br>00:19:04,200 –&gt; 00:19:09,200<br>And other languages self is called this.</p>
<p>277<br>00:19:09,200 –&gt; 00:19:10,200<br>Okay.</p>
<p>278<br>00:19:10,200 –&gt; 00:19:12,200<br>And so let’s we saved it.</p>
<p>279<br>00:19:12,200 –&gt; 00:19:14,200<br>So now let’s go over and compile this.</p>
<p>280<br>00:19:14,200 –&gt; 00:19:15,200<br>So we compile it.</p>
<p>281<br>00:19:15,200 –&gt; 00:19:18,200<br>It compiles and it runs.</p>
<p>282<br>00:19:18,200 –&gt; 00:19:19,200<br>All right.</p>
<p>283<br>00:19:19,200 –&gt; 00:19:23,200<br>So last example here.</p>
<p>284<br>00:19:23,200 –&gt; 00:19:27,200<br>We don’t have to name self actually in this dispatch.</p>
<p>285<br>00:19:27,200 –&gt; 00:19:34,200<br>So there’s a feature that allows us to call a method without explicitly naming the object on which it’s dispatched.</p>
<p>286<br>00:19:34,200 –&gt; 00:19:36,200<br>And that defaults to self.</p>
<p>287<br>00:19:36,200 –&gt; 00:19:40,200<br>So if no object is named in a dispatch, then it’s just a dispatched self.</p>
<p>288<br>00:19:40,200 –&gt; 00:19:44,200<br>So this should also work.</p>
<p>289<br>00:19:44,200 –&gt; 00:19:49,200<br>And indeed it does.</p>
<p>290<br>00:19:49,200 –&gt; 00:19:51,200<br>So that concludes our first example.</p>
<p>291<br>00:19:51,200 –&gt; 00:19:58,200<br>In the next couple of videos, we’ll look at some more complex examples of cool programming.</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>CS143 P4Week102 01 Cool Overview Final</div>
      <div>http://example.com/2025/10/25/CS143 P4Week102-01-cool-overview-final/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>John Doe</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2025年10月25日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2025/10/25/CS143%20P50Week408-06-slr-parsing-example/" title="CS143 P50Week408 06 Slr Parsing Example">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">CS143 P50Week408 06 Slr Parsing Example</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2025/10/25/CS143%20P51Week408-07-slr-improvements/" title="CS143 P51Week408 07 Slr Improvements">
                        <span class="hidden-mobile">CS143 P51Week408 07 Slr Improvements</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
