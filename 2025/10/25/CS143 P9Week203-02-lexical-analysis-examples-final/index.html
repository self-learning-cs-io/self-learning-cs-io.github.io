

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  
    <meta name="description" content="100:00:00,000 –&gt; 00:00:06,000Welcome back. In this video we’re going to continue our lecture on lexical analysis 200:00:06,000 –&gt; 00:00:12,000with some examples from past programming languages w">
<meta property="og:type" content="article">
<meta property="og:title" content="CS143 P9Week203 02 Lexical Analysis Examples Final">
<meta property="og:url" content="http://example.com/2025/10/25/CS143%20P9Week203-02-lexical-analysis-examples-final/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="100:00:00,000 –&gt; 00:00:06,000Welcome back. In this video we’re going to continue our lecture on lexical analysis 200:00:06,000 –&gt; 00:00:12,000with some examples from past programming languages w">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2025-10-25T07:38:14.418Z">
<meta property="article:modified_time" content="2025-10-25T07:40:49.228Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary_large_image">
  
  
  
  <title>CS143 P9Week203 02 Lexical Analysis Examples Final - Hexo</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 8.0.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Fluid</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="CS143 P9Week203 02 Lexical Analysis Examples Final"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2025-10-25 15:38" pubdate>
          2025年10月25日 下午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          583 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          5 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">CS143 P9Week203 02 Lexical Analysis Examples Final</h1>
            
            
              <div class="markdown-body">
                
                <p>1<br>00:00:00,000 –&gt; 00:00:06,000<br>Welcome back. In this video we’re going to continue our lecture on lexical analysis</p>
<p>2<br>00:00:06,000 –&gt; 00:00:12,000<br>with some examples from past programming languages where interesting lexical problems arose.</p>
<p>3<br>00:00:12,000 –&gt; 00:00:20,000<br>So we’ve already talked a little bit about Fortran and one of the interesting lexical rules in Fortran</p>
<p>4<br>00:00:20,000 –&gt; 00:00:27,000<br>is that white space is insignificant. So white space doesn’t matter and something like VAR1,</p>
<p>5<br>00:00:27,000 –&gt; 00:00:33,000<br>which could be a variable name VAR1, is exactly the same as VAS space R1.</p>
<p>6<br>00:00:33,000 –&gt; 00:00:40,000<br>So these two program fragments have to mean exactly the same thing. And the idea in Fortran is that you can take your program</p>
<p>7<br>00:00:40,000 –&gt; 00:00:45,000<br>and you can delete all the blanks from it and that shouldn’t change what the program means at all.</p>
<p>8<br>00:00:49,000 –&gt; 00:00:54,000<br>Now the Fortran white space rule turns out to be a really pretty bad idea.</p>
<p>9<br>00:00:54,000 –&gt; 00:01:02,000<br>And here’s an example that illustrates the problem. So here are two Fortran expressions and the only difference between…</p>
<p>10<br>00:01:03,000 –&gt; 00:01:07,000<br>So you might wonder why Fortran has this funny rule about white space.</p>
<p>11<br>00:01:07,000 –&gt; 00:01:12,000<br>It turns out that on punch card machines it was easy to add extra blanks by accident.</p>
<p>12<br>00:01:12,000 –&gt; 00:01:19,000<br>And as a result they added this rule to the language so that punch card operators wouldn’t have to redo their work all the time.</p>
<p>13<br>00:01:19,000 –&gt; 00:01:24,000<br>Fortunately today we don’t enter our programs anymore on punch cards.</p>
<p>14<br>00:01:25,000 –&gt; 00:01:30,000<br>But this example does help us understand better what we’re trying to do in lexical analysis.</p>
<p>15<br>00:01:30,000 –&gt; 00:01:37,000<br>So as I said the goal is to partition the string. We’re trying to buy the string up into the logical units of the language.</p>
<p>16<br>00:01:37,000 –&gt; 00:01:46,000<br>And this is implemented by reading left to right. So we’re doing a left to right scan over the input recognizing one token at a time.</p>
<p>17<br>00:01:46,000 –&gt; 00:01:53,000<br>And because of that look ahead may be required to decide where one token ends and the next token begins.</p>
<p>18<br>00:01:53,000 –&gt; 00:01:58,000<br>And again I want to stress that look ahead is always needed. But we would like to minimize the amount of look ahead.</p>
<p>19<br>00:01:58,000 –&gt; 00:02:06,000<br>And in fact we’d like to bound it to some constant. Because that will simplify the implementation of lexical analyzer quite a bit.</p>
<p>20<br>00:02:07,000 –&gt; 00:02:11,000<br>Now just to illustrate that look ahead is something that we always have to worry about.</p>
<p>21<br>00:02:12,000 –&gt; 00:02:20,000<br>Let’s consider this example which we’ve looked at before and just notice that when we’re reading left to right let’s look at this keyword else here.</p>
<p>22<br>00:02:20,000 –&gt; 00:02:32,000<br>When we’ve read the E we have to decide is that a variable name or some symbol by itself or do we want to consider it together with the symbols that follow it.</p>
<p>23<br>00:02:32,000 –&gt; 00:02:40,000<br>And so there’s a look ahead issue here. When we after we scanned E we have to decide is that sit by itself or is it part of a larger lexical unit.</p>
<p>24<br>00:02:40,000 –&gt; 00:02:48,000<br>And you know there are single character variable names in this example like i, j and z. And so it’s not unreasonable that E could also be one.</p>
<p>25<br>00:02:48,000 –&gt; 00:03:02,000<br>And another example is this double equals when we’ve read a single equal sign. How do we decide whether that’s a single equals like these other assignments or that’s really a double equals well in order to do that.</p>
<p>26<br>00:03:02,000 –&gt; 00:03:16,000<br>If we’re if our focus point is right here we have to look ahead and see that there’s another equals coming up and that’s how we know or how we will know that we want to combine the two into a single symbol instead of considering this equals by itself.</p>
<p>27<br>00:03:16,000 –&gt; 00:03:22,000<br>Now another example from a language from long ago.</p>
<p>28<br>00:03:22,000 –&gt; 00:03:36,000<br>The language from long ago, peel one is a interesting language it was designed by IBM and it stands for programming language.</p>
<p>29<br>00:03:36,000 –&gt; 00:03:49,000<br>One. It was designed to be the programming language at least within IBM that would be used by everybody and it’s supposed to encompass all the features that any programmer would ever need.</p>
<p>30<br>00:03:49,000 –&gt; 00:04:05,000<br>And as such it was supposed to be very, very general and have very few restrictions. And so one of the features of peel one is that keywords are not reserved. So in peel one you can use a keyword both as a keyword and also as a variable.</p>
<p>31<br>00:04:05,000 –&gt; 00:04:13,000<br>So you can use keywords and other roles other than keywords and that means you can write interesting, interesting sentences or interesting programs like this.</p>
<p>32<br>00:04:13,000 –&gt; 00:04:34,000<br>And then we just read this out loud because it sounds interesting. If else then then equals else else else else equals then. And the correct organization here of course is that this is a keyword. This is a keyword. And this is a keyword. And the other things switch colors here are all variables.</p>
<p>33<br>00:04:34,000 –&gt; 00:04:55,000<br>These are all variable names. And as you can imagine this makes a electrical analysis somewhat difficult because when we’re just scanning left to right like when we’re coming through here when we say we’re at this point, you know, how do we decide whether these things are going to be variable names or keywords without seeing what’s going on in the rest of the expression.</p>
<p>34<br>00:04:55,000 –&gt; 00:05:19,000<br>So electrical analysis in peel one was quite challenging. So here’s another example from peel one. Here we have a program fragment. We have the word declare. And then an open parent and a closed parent encompassing a bunch of arguments. So I point out the balanced brands here and then just a list of n things inside the parents.</p>
<p>35<br>00:05:19,000 –&gt; 00:05:39,000<br>And it turns out that depending on the larger context in which this whole expression sits, this could be either a keyword or it could be an array reference. I mean, when it I mean declare here could either be a keyword or it could be the name of an array and these could be the indices to the array.</p>
<p>36<br>00:05:39,000 –&gt; 00:06:02,000<br>And as it happens, there is no way looking at just this much that we can decide this fragment is valid is a valid declaration and it’s also a valid array reference. So it would depend on what came next. It might depend on, for example, whether there was an equal sign here in which cases would be interpreted as an assignment and declare would be the name of an array.</p>
<p>37<br>00:06:02,000 –&gt; 00:06:16,000<br>And the interesting thing about this example is that because the number of arguments in here is unbounded, there could be n of them for any n. This requires unbounded look ahead.</p>
<p>38<br>00:06:17,000 –&gt; 00:06:31,000<br>OK, so to implement this properly as you’re scanning left to right to decide whether declare again is a keyword or an array reference, we would have to scan beyond this entire argument list to see what came next.</p>
<p>39<br>00:06:33,000 –&gt; 00:06:44,000<br>Fortran and PL1 were designed in the 1950s and 1960s respectively. And those experiences taught us a lot about what not to do in the electrical design of programming languages.</p>
<p>40<br>00:06:44,000 –&gt; 00:06:51,000<br>So things are a lot better today, but the problems have not gone away completely and I’ll use an example from C++ to illustrate this.</p>
<p>41<br>00:06:51,000 –&gt; 00:07:00,000<br>So here is an example of C++ template syntax, which you may be familiar with or you may have seen the similar syntax in Java.</p>
<p>42<br>00:07:00,000 –&gt; 00:07:11,000<br>And C++ has another operator called stream input. So this operator here reads from an input stream and stores the result in a variable.</p>
<p>43<br>00:07:12,000 –&gt; 00:07:29,000<br>And the problem is here that there’s a conflict with nested templates. So for example, if I have a template operation that looks like this, OK, notice what happens here.</p>
<p>44<br>00:07:30,000 –&gt; 00:07:39,000<br>So my intention here is to have nested application of templates, but I wind up with two greater than signs together at the end. And this looks just like the stream operator.</p>
<p>45<br>00:07:39,000 –&gt; 00:07:52,000<br>And the question is what should the electrical analyzer do? Should it interpret this as two closed brackets for templates or should it interpret it as a two greater than signs stuck together as a stream operator?</p>
<p>46<br>00:07:53,000 –&gt; 00:07:59,000<br>And it turns out that for a very long time, I think most C++ compilers have now fixed this.</p>
<p>47<br>00:07:59,000 –&gt; 00:08:07,000<br>The C++ compiler in this situation would regard this as a stream operator and you would get a syntax error. And what do you think the solution was?</p>
<p>48<br>00:08:07,000 –&gt; 00:08:17,000<br>It turns out that the only fix that you could really do to make this electrically analyze the correct way was to insert a blank. So you would have to write this.</p>
<p>49<br>00:08:17,000 –&gt; 00:08:31,000<br>And you would have to remember to put the blank in there so that the two greater than signs were not together. And now that’s kind of ugly that we have to put in white space to fix the electrical analysis of the program.</p>
<p>50<br>00:08:31,000 –&gt; 00:08:40,000<br>So to summarize, the goal of the electrical analysis is to partition the input stream into Lexiim.</p>
<p>51<br>00:08:40,000 –&gt; 00:08:48,000<br>So we’re going to drop down dividing lines in the string to decide where the Lexiim is lie. And we want to identify the token of each Lexiim.</p>
<p>52<br>00:08:48,000 –&gt; 00:08:58,000<br>And because, exactly because we’re doing a left or right scan, sometimes we have to have look ahead. Sometimes we have to peek ahead in the input stream to figure out what the current string we’re looking at.</p>
<p>53<br>00:08:58,000 –&gt; 00:09:03,000<br>And we’re looking at the current substring we’re looking at what role it plays in the language.</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>CS143 P9Week203 02 Lexical Analysis Examples Final</div>
      <div>http://example.com/2025/10/25/CS143 P9Week203-02-lexical-analysis-examples-final/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>John Doe</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2025年10月25日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2025/10/25/CS143%20P99Week814-03-local-optimization/" title="CS143 P99Week814 03 Local Optimization">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">CS143 P99Week814 03 Local Optimization</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2025/10/25/CS143%20P96Week713-04-B+Cool+Semantics+II/" title="CS143 P96Week713 04 B+Cool+Semantics+II">
                        <span class="hidden-mobile">CS143 P96Week713 04 B+Cool+Semantics+II</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
