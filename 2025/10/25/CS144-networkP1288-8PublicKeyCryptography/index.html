

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  
    <meta name="description" content="100:00:00,000 –&gt; 00:00:06,000Public key cryptography is a critical part of most secure systems today. 200:00:06,000 –&gt; 00:00:10,000It’s different than symmetric cryptography, and that there’s wh">
<meta property="og:type" content="article">
<meta property="og:title" content="CS144 NetworkP1288 8PublicKeyCryptography">
<meta property="og:url" content="http://example.com/2025/10/25/CS144-networkP1288-8PublicKeyCryptography/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="100:00:00,000 –&gt; 00:00:06,000Public key cryptography is a critical part of most secure systems today. 200:00:06,000 –&gt; 00:00:10,000It’s different than symmetric cryptography, and that there’s wh">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2025-10-25T05:03:39.769Z">
<meta property="article:modified_time" content="2025-10-25T05:03:39.769Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary_large_image">
  
  
  
  <title>CS144 NetworkP1288 8PublicKeyCryptography - Hexo</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 8.0.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Fluid</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="CS144 NetworkP1288 8PublicKeyCryptography"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2025-10-25 13:03" pubdate>
          2025年10月25日 下午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          799 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          7 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">CS144 NetworkP1288 8PublicKeyCryptography</h1>
            
            
              <div class="markdown-body">
                
                <p>1<br>00:00:00,000 –&gt; 00:00:06,000<br>Public key cryptography is a critical part of most secure systems today.</p>
<p>2<br>00:00:06,000 –&gt; 00:00:10,000<br>It’s different than symmetric cryptography, and that there’s what’s called a public key,</p>
<p>3<br>00:00:10,000 –&gt; 00:00:12,000<br>a key that doesn’t have to be secret.</p>
<p>4<br>00:00:12,000 –&gt; 00:00:16,000<br>You can distribute this public key freely and still communicate securely.</p>
<p>5<br>00:00:16,000 –&gt; 00:00:19,000<br>So how does that work?</p>
<p>6<br>00:00:19,000 –&gt; 00:00:24,000<br>Like symmetric cryptography, public key ciphers have three algorithms,</p>
<p>7<br>00:00:24,000 –&gt; 00:00:28,000<br>one to generate keys, one to decrypt, and one to encrypt.</p>
<p>8<br>00:00:28,000 –&gt; 00:00:31,000<br>They differ from symmetric cryptography in two ways.</p>
<p>9<br>00:00:31,000 –&gt; 00:00:39,000<br>First, the generate algorithm generates two keys, a public key k, and a private key k inverse.</p>
<p>10<br>00:00:39,000 –&gt; 00:00:44,000<br>To encrypt, you pass the public key in a plaintext to obtain a ciphertext.</p>
<p>11<br>00:00:44,000 –&gt; 00:00:50,000<br>To decrypt, you pass the private key and the ciphertext to obtain the plaintext.</p>
<p>12<br>00:00:50,000 –&gt; 00:00:55,000<br>Therefore, if you generate the keys, you can give out the public key freely, hence its name,</p>
<p>13<br>00:00:55,000 –&gt; 00:01:01,000<br>and know that only someone with a private key can decrypt something sent with the public key.</p>
<p>14<br>00:01:01,000 –&gt; 00:01:08,000<br>Because the public key is reused many times, though, this means the encryption process has to include randomization.</p>
<p>15<br>00:01:08,000 –&gt; 00:01:12,000<br>Otherwise, two parties that send the same message will produce the same ciphertext,</p>
<p>16<br>00:01:12,000 –&gt; 00:01:17,000<br>if you’re dealing with small messages, and adversary could just exhaustively try all the messages.</p>
<p>17<br>00:01:17,000 –&gt; 00:01:23,000<br>So, for example, you can prepend some random data to the plaintext to generate the ciphertext.</p>
<p>18<br>00:01:23,000 –&gt; 00:01:29,000<br>So, this kind of magic. You can generate two keys, one public, one private.</p>
<p>19<br>00:01:29,000 –&gt; 00:01:34,000<br>People with a public key can send data only someone with a private key can decrypt.</p>
<p>20<br>00:01:34,000 –&gt; 00:01:40,000<br>If each side had the other’s public key, then we wouldn’t need symmetric cryptography at all.</p>
<p>21<br>00:01:40,000 –&gt; 00:01:44,000<br>So, it turns out that’s not quite the case, and I’ll explain why in a little bit.</p>
<p>22<br>00:01:44,000 –&gt; 00:01:52,000<br>Public cryptography is much, much more computationally expensive than symmetric cryptography, so we can’t just use it all the time.</p>
<p>23<br>00:01:54,000 –&gt; 00:02:00,000<br>You can use public key cryptography for integrity as well, using something called a signature.</p>
<p>24<br>00:02:00,000 –&gt; 00:02:05,000<br>Again, you have three functions. Generate, generate a pair of keys.</p>
<p>25<br>00:02:05,000 –&gt; 00:02:11,000<br>Sign, which takes the private key, and verify, which takes the public key.</p>
<p>26<br>00:02:11,000 –&gt; 00:02:18,000<br>A signature provides integrity like a Mac. You can’t produce a valid signature for a message M without the private key,</p>
<p>27<br>00:02:18,000 –&gt; 00:02:22,000<br>but anyone can verify it with the public key.</p>
<p>28<br>00:02:22,000 –&gt; 00:02:29,000<br>Furthermore, you can’t derive the public key from the private one.</p>
<p>29<br>00:02:29,000 –&gt; 00:02:33,000<br>So, there are a lot of public key algorithms out there.</p>
<p>30<br>00:02:33,000 –&gt; 00:02:40,000<br>For encryption, we have RSA, Rabin, and Elk Amal. For signatures, we have RSA, Rabin, and Elk Amal, and DSA.</p>
<p>31<br>00:02:40,000 –&gt; 00:02:44,000<br>But public key algorithms work differently than symmetric ones.</p>
<p>32<br>00:02:44,000 –&gt; 00:02:48,000<br>The basic idea behind RSA, for example, is really simple.</p>
<p>33<br>00:02:48,000 –&gt; 00:02:52,000<br>Modular exponentiation of large integers.</p>
<p>34<br>00:02:52,000 –&gt; 00:02:57,000<br>However, simple transformations of a message to a number is not necessarily secure.</p>
<p>35<br>00:02:57,000 –&gt; 00:03:00,000<br>So you have to be careful in how to use them.</p>
<p>36<br>00:03:00,000 –&gt; 00:03:03,000<br>I gave one example of that earlier how you have to add randomness.</p>
<p>37<br>00:03:03,000 –&gt; 00:03:10,000<br>So generally speaking, it’s good to use existing, tested implementations of these algorithms rather than try to re-implement them yourself.</p>
<p>38<br>00:03:10,000 –&gt; 00:03:15,000<br>Or you can re-implement them, but then don’t use your implementation in a secure system.</p>
<p>39<br>00:03:16,000 –&gt; 00:03:20,000<br>For many of these algorithms, we can use the same key for encryption and for signing.</p>
<p>40<br>00:03:20,000 –&gt; 00:03:24,000<br>While they use the same key, though, they use very different algorithms.</p>
<p>41<br>00:03:24,000 –&gt; 00:03:29,000<br>You can’t, for example, sign a document by encrypting it with the private key.</p>
<p>42<br>00:03:29,000 –&gt; 00:03:36,000<br>So I’m not going to go into all of the details, but I just want to give you a sense of how one very famous of these algorithms RSA works.</p>
<p>43<br>00:03:36,000 –&gt; 00:03:40,000<br>RSA is named for its co-creators, Revesht, Shamir, and Alman.</p>
<p>44<br>00:03:40,000 –&gt; 00:03:43,000<br>They won a Turing Award, the highest award in computing for it.</p>
<p>45<br>00:03:43,000 –&gt; 00:03:48,000<br>I’m presenting RSA because conceptually it’s very simple.</p>
<p>46<br>00:03:48,000 –&gt; 00:03:55,000<br>To generate RSA keys, you choose two distinct, very large, prime numbers, P and Q.</p>
<p>47<br>00:03:55,000 –&gt; 00:04:06,000<br>From P and Q, you compute their product, N. You then use P and Q to derive K and K inverse the public and private keys.</p>
<p>48<br>00:04:07,000 –&gt; 00:04:11,000<br>You advertise N and K as the public key.</p>
<p>49<br>00:04:11,000 –&gt; 00:04:20,000<br>To encrypt a message, consider the message M as a large number and raise it to the K power and take it modulo N.</p>
<p>50<br>00:04:20,000 –&gt; 00:04:23,000<br>You send that Cypher text number.</p>
<p>51<br>00:04:23,000 –&gt; 00:04:35,000<br>To decrypt, you consider the Cypher text message M as a large number, the Cypher text message C as a large number and raise it to the K inverse power that take it modulo N.</p>
<p>52<br>00:04:35,000 –&gt; 00:04:40,000<br>It turns out that if you do this, you will recover the original plain text message.</p>
<p>53<br>00:04:40,000 –&gt; 00:04:50,000<br>So you derive K and K inverse from P and Q. If an adversary learns P and Q, then they can generate the private key and break the system.</p>
<p>54<br>00:04:50,000 –&gt; 00:04:57,000<br>You can’t derive P and Q from K. It turns out you also can’t derive P and Q from N.</p>
<p>55<br>00:04:57,000 –&gt; 00:05:03,000<br>N is the product of two primes. Factoring N into P and Q turns out to be computationally hard.</p>
<p>56<br>00:05:03,000 –&gt; 00:05:07,000<br>If someone figured out how to do it quickly, then all of RSA crashes down.</p>
<p>57<br>00:05:07,000 –&gt; 00:05:15,000<br>As you can imagine, a lot of people put a huge amount of effort to understand exactly how hard it is to factor a product with two prime numbers.</p>
<p>58<br>00:05:15,000 –&gt; 00:05:20,000<br>For those of you who know a bit about computational complexity, we know that the problem is in the computational class NP.</p>
<p>59<br>00:05:20,000 –&gt; 00:05:26,000<br>It’s suspected to be outside class P, but it’s suspected to not be NP-complete.</p>
<p>60<br>00:05:26,000 –&gt; 00:05:35,000<br>So that means our best guess is that you can’t do it in polynomial time, but it’s not as hard as the hardest problems in NP like traveling salesman.</p>
<p>61<br>00:05:35,000 –&gt; 00:05:44,000<br>So public key cryptography seems pretty amazing. You can generate two keys, distribute one publicly, that have confidentiality, integrity, and authenticity.</p>
<p>62<br>00:05:44,000 –&gt; 00:05:51,000<br>So why do we use symmetric cryptography at all?</p>
<p>63<br>00:05:52,000 –&gt; 00:06:00,000<br>There is, of course, a catch. Public key cryptography is much, much slower than symmetric ciphers. We can do symmetric cryptography at line rate.</p>
<p>64<br>00:06:00,000 –&gt; 00:06:11,000<br>Public key systems, though, have execution times in milliseconds. For example, if you were on RSA with a 2048-bit key, technically six milliseconds had decrypt a message.</p>
<p>65<br>00:06:11,000 –&gt; 00:06:23,000<br>And remember, the party has the private key as the decrypting. So if you distribute your public key widely so lots of other parties can communicate with you, you’re the bottleneck on how many messages can be handled.</p>
<p>66<br>00:06:23,000 –&gt; 00:06:33,000<br>So this is why hybrid schemes are very popular today. The idea is that you start with public key cryptography and use it to encrypt a symmetric key.</p>
<p>67<br>00:06:33,000 –&gt; 00:06:44,000<br>Or you use it to exchange some information, a secret session key that you use to generate symmetric keys. You bootstrap the secure session with public key cryptography to exchange a secret.</p>
<p>68<br>00:06:44,000 –&gt; 00:06:52,000<br>Then use that secret for much more efficient symmetric cryptography. If you want to see a detailed example of this, I’ll cover it in the TLS video.</p>
<p>69<br>00:06:53,000 –&gt; 00:07:06,000<br>Now, one big pitfall people weren’t into with public key cryptography is signing an under specified message. For example, if I sign a message, I should specify who in the message is for and give it a lifetime.</p>
<p>70<br>00:07:06,000 –&gt; 00:07:15,000<br>Otherwise, simply, someone can simply replay the message. Since my public key is in change very often, I sign a message is valid as long as people are using my public key.</p>
<p>71<br>00:07:16,000 –&gt; 00:07:23,000<br>By valid, I mean you’ll properly pass the verify function. So you want to limit its use at the application level.</p>
<p>72<br>00:07:23,000 –&gt; 00:07:34,000<br>Otherwise, a sign message saying you can access this file to be taken by an adversary and used. Instead, you should say something like, Nick can access this file until noon on Halloween.</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>CS144 NetworkP1288 8PublicKeyCryptography</div>
      <div>http://example.com/2025/10/25/CS144-networkP1288-8PublicKeyCryptography/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>John Doe</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2025年10月25日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2025/10/25/CS144-networkP1278-7Integrity/" title="CS144 NetworkP1278 7Integrity">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">CS144 NetworkP1278 7Integrity</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2025/10/25/CS144-networkP1298-9Certificates/" title="CS144 NetworkP1298 9Certificates">
                        <span class="hidden-mobile">CS144 NetworkP1298 9Certificates</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
