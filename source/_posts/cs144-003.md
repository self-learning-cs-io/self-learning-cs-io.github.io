---
title: 计算机网络 003 The four layer Internet model
date: 2025-10-19 10:00:02
---

发言人   00:01
In the last video, you learned how a variety of different applications such as BitTorrent, skype, and the web all communicate over the internet using a very similar model. Basically, a bidirectional reliable byte stream takes a lot of different pieces working together to create this reliable communication model for our applications. But even though we use a huge variety of different internet applications, sending many kinds of data, very different speeds, there are surprisingly strong similarities in the way applications send and receive data. For example, applications want to send and receive data without having to worry about the path or route that the data takes across the internet. And almost all applications want to be confident that their data is correctly received, with any lost or corrupted data automatically retransmitted until it's received correctly. 
在上一个视频中，您学习了各种不同的应用程序 (如BitTorrent、skype和web) 如何使用非常相似的模型在互联网上进行通信。基本上，双向可靠的字节流需要许多不同的部分协同工作，为我们的应用程序创建这种可靠的通信模型。但是，即使我们使用各种不同的互联网应用程序，发送各种数据，速度也非常不同，但应用程序发送和接收数据的方式却有惊人的强烈相似之处。例如，应用程序希望在发送和接收数据时不必担心数据通过互联网的路径或路由。几乎所有应用程序都希望确信他们的数据被正确接收，任何丢失或损坏的数据都会自动重新传输，直到正确接收为止。


发言人   00:51
The early Internet pioneers created the four layer Internet model to describe the hierarchy of operations that make up the Internet so that applications can reuse the same building blocks over and over again without having to create them from scratch for every new application. Layering is a really important and frequently used concept in networking, and we'll be seeing it many, many times throughout this course. Even a video devoted just to the concept of layering. 
早期的互联网先驱创造了四层互联网模型来描述构成互联网的操作层次结构，以便应用程序可以一遍又一遍地重复使用相同的积木，而不必为每个新应用程序从头开始创建它们。在网络中，分层是一个非常重要且经常使用的概念，在本课程中，我们会多次看到它。即使是一个专门讨论分层概念的视频。

发言人   01:16
Let's look at what each layer of the four layer internet model does. It helps to remember that all four layers are there to enable applications in the end host to communicate reliably and to explain how it works. I'm going to start at the bottom layer. We'll see that each layer has a different responsibility, with each layer building a service on top of the one below, all the way to the top where we have the bidirectional reliable byte stream communication between applications. 
让我们看看四层互联网模型的每一层的作用。记住所有四层都有助于使终端主机中的应用程序能够可靠地通信并解释其工作原理。我将从最底层开始。我们将看到每一层都有不同的责任，每一层都在下面一层之上构建服务，一直到应用程序之间有双向可靠的字节流通信。

发言人   01:40
Okay, let's start with a link player. The internet is made up of end hosts, links and routers. Data is delivered hop by hop over each Lincoln turn. Data is lit, delivered in packets. A packet is a self contained unit consisting of the data we want to be delivered, along with a header that tells the network where the packet is to be delivered, where it came from, and so on. The link layer's job is to carry the data over one link at a time. You've probably heard of ethernet and wi-fi, these are two examples of different link players. 
好的，让我们从一个链接播放器开始。互联网由终端主机、链路和路由器组成。数据在每个林肯回合上逐跳传递。数据被点亮，以数据包的形式传递。数据包是一个独立的单元，由我们想要传递的数据以及一个告诉网络数据包将被传递到哪里、来自哪里等信息的报头组成。链路层的工作是一次在一个链接上传输数据。你可能听说过以太网和wi-fi，这是两个不同的链接播放器的例子。



发言人   02:14
The next layer up is for us, the most important layer, the network layer. The network's layer's job is to deliver packets end to end across the internet from the source to the destination. A packet is an important building block in the network. A packet is the name we give to that collection of data with a header and header that describes what the data is, where it's going, and where it came from. As we saw in the last slide, you'll often see packets drawn like this network layer. 
对我们来说，上一层是最重要的网络层。网络层的工作是通过互联网从源到目标端到端地传递数据包。数据包是网络中的重要积木。数据包是我们给数据集合的名称，带有一个报头和报头，描述数据是什么，它要去哪里，以及它来自哪里。正如我们在上一张幻灯片中看到的那样，您经常会看到像这样绘制网络层的数据包。

发言人   02:41
Packets are called datagrams. They consist of some data and a header containing the to and from addresses, just like we put the to and from addresses in a letter, the network hands the datagram to the link layer, telling it to send the datagram over the first link. 
数据包被称为数据报。它们由一些数据和包含发信地址的标头组成，就像我们将发信地址和发信地址放在一个字母中一样，网络将数据报交给链路层，告诉它在第一个链接上发送数据报。


发言人   03:00
In other words, the link layer is providing a service to the network layer. Essentially, the link layer is saying, if you give me a datagram to send I'll transmit it over one link for you. At the other end of the link is a router. The link layer of the router accepts the datagram from the link and hands it up to the network layer inside the router. The network layer on the router examines the destination addresser of the datagram and is responsible for routing the datagram one hop at a time towards its eventual destination. It does this by sending it to the link layer again to carry it over the next link. Which is passed to the network layer at the next router, and so on until it reaches the network layer at the destination eventually? 
换句话说，链路层为网络层提供服务。本质上，链路层的意思是，如果你给我发送一个数据报，我会在一个链接上为你传输它。链路的另一端是路由器。路由器的链路层接受来自链路的数据报，并将其传递给路由器内部的网络层。路由器上的网络层检查数据报的目标地址器，并负责将数据报路由到其最终目的地，每次一跳。它通过将其再次发送到链路层以将其承载到下一个链接来完成此操作。哪个被传递到下一台路由器的网络层，依此类推，直到最终到达目的地的网络层？



发言人   03:47
Notice that the network layer does not need to concern itself with how the link layer sends the datagram over each link. In fact, different link layers work in very different ways. Ethernet and WiFi Fi are clearly very different, and we're going to be learning about them in more detail later. This separation of concerns between the network layer and the link layer allows each to focus on its job without worrying about how the other layer works. It also means that a single network layer has a common way to talk to many different link layers by simply handing them datagrams. To send. This separation of concerns is made possible by the modularity of each layer and a common well bedeviled API to the layer below. 
请注意，网络层不需要关心链路层如何在每个链接上发送数据报。事实上，不同的链路层以非常不同的方式工作。以太网和WiFi显然非常不同，我们稍后将更详细地了解它们。网络层和链路层之间的关注点分离使每个人都可以专注于自己的工作，而不必担心另一层的工作方式。这也意味着单个网络层有一种共同的方式，通过简单地处理数据报来与许多不同的链路层进行通信。发送。这种关注点的分离是由于每一层的模块化和下一层通用的受困扰的API而实现的。


发言人   04:27
In the internet, the network layer is special. When we send packets into the Internet, we must use the Internet protocol. It is the Internet protocol, or IP that holds the Internet together. We'll learn more about the details of IP in later videos, but for now, it's good to know some basic facts about IP. First of all, IP makes a best effort attempt to deliver our datagrams to the other end, but it makes no promises. Second IP datagrams can get lost, they can be delivered out of order, and they can be corrupted. There are no guarantees. This may come as a surprise. 
在互联网中，网络层是特殊的。当我们向互联网发送数据包时，我们必须使用互联网协议。是互联网协议，或者说是将互联网连接在一起的IP。我们将在后面的视频中了解更多关于IP的细节，但是现在，了解一些关于IP的基本事实是很好的。首先，IP尽最大努力将我们的数据报传递到另一端，但它没有做出任何承诺。第二个IP数据报可能会丢失，可能会不按顺序传递，也可能会损坏。这里没有任何保证。这可能会令人惊讶。

发言人   05:04
You might be asking, how can the internet work at all when the packets are not guaranteed to be delivered? Well, if an application wants a guarantee that its data will be retransmitted when necessary and will be delivered to the application in order and without corruption, then it needs another protocol running on top of IP. That's the job of the transport layer. 
你可能会问，当数据包不能保证被传递时，互联网怎么能正常工作呢？好的，如果应用程序想要保证其数据在必要时重新传输并按顺序传递给应用程序而不会损坏，那么它需要在IP之上运行另一个协议。这就是传输层的工作。


发言人   05:28
The most common transport layer is TCP, or the transmission control protocol. You've probably heard of TCP IP, which is when an application uses both TCP and IP together, tcp's job is to make sure that the data sent by an application at one end of the internet is correctly or delivered in the right order to the application at the other end of the internet. If the network layers drop some datagrams TCP will transmit them multiple times if need be. If the network layer delivers them out of order, perhaps because two packets follow a different path to their destination TCP will put the data back into the correct order again in later videos, you'll learn a lot about TCP and how it works. For now, the main thing you need to remember is that TCP provides a service to an application that guarantees correct in order delivery of data running on top of the network layer service. The network layer is providing an unreliable datagram delivery service underneath, as I'm sure you can imagine applications such as a web client or an email client find TCP very useful indeed. By employing TCP to make sure data is delivered correctly, they don't have to worry about implementing all of the mechanisms inside the application. They can take advantage of the huge effort that other developers have put into correctly implementing TCP over the years and then reuse it to deliver the data correctly. 
最常见的传输层是TCP，即传输控制协议。你可能听说过TCP IP，当一个应用程序同时使用TCP和IP时，tcp的工作是确保互联网一端的应用程序发送的数据正确或以正确的顺序传递到互联网另一端的应用程序。如果网络层丢弃了一些数据报，如果需要，TCP将多次传输它们。如果网络层将它们的传输顺序不正确，也许是因为两个数据包沿着不同的路径到达它们的目标，TCP会在后面的视频中再次将数据放回正确的顺序，您将了解很多关于TCP及其工作原理的知识。目前，您需要记住的主要事情是，TCP为应用程序提供服务，以保证在网络层服务之上运行的数据按顺序正确交付。网络层在底层提供了不可靠的数据报传递服务，我相信你可以想象像web客户端或电子邮件客户端这样的应用程序确实发现TCP非常有用。通过使用TCP来确保数据正确传递，他们不必担心在应用程序内实现所有机制。他们可以利用其他开发人员多年来为正确实现TCP付出的巨大努力，然后重复使用它来正确地传递数据。

发言人   06:49
Reuse is a big advantage of layering, but not all applications need data to be delivered correctly. For example, if a video conference application is sending a snippet of video in a packet, there may be no point waiting for the packet to be retransmitted multiple times. Better to just move on. 
重用是分层的一大优势，但并非所有应用程序都需要正确传递数据。例如，如果视频会议应用程序正在发送数据包中的视频片段，则等待多次重新传输该数据包可能没有任何意义。最好就继续前进。

发言人   07:08
Some applications just don't need the TCP service. If an application doesn't need reliable delivery, I can use the much simpler UDP or use a Datagram Protocol instead. UDP is an alternative transport layer that bundles up application data and hands it to the network layer for delivery to the other end. Edp offers no delivery guarantees at all. In other words, an application has the choice of at least two different transport layer services TCP and UDP. There are, in fact, many other choices too, but these are the most commonly used transport layer services. 
有些应用程序不需要TCP服务。如果应用程序不需要可靠的传递，我可以使用更简单的UDP或使用数据报协议。UDP是一个替代的传输层，它将应用程序数据捆绑起来，并将其传递到网络层，以便传递到另一端。Edp根本不提供任何交付保证。换句话说，一个应用程序至少可以选择两种不同的传输层服务，即TCP和UDP。事实上，还有许多其他选择，但这些是最常用的传输层服务。

发言人   07:44
Finally, we have the application layer at the top of the four layer model. There are, of course, many thousands of applications using the internet. While each application is different, it can reuse the transport layer by using the well bedeviled API from the application layer to the TP or UDP service beneath. 
最后，我们在四层模型的顶部有应用层。当然，有成千上万的应用程序使用互联网。虽然每个应用程序都是不同的，但它可以通过使用从应用层到下面的TP或UDP服务的良好的API来重用传输层。

发言人   08:03
As we saw in the last video, applications typically want a bidirectional reliable byte stream between two endpoints. They can send whatever byte stream they want, and applications have their own protocol to define the syntax and semantics of data flowing between the two endpoints. For example, as we saw in the last video, when a web client requests a page from a web server, the web client sends a Get request. This is one of the commands of the Hypertext Transfer Protocol, or Http. Http dictates that the Get command is sent as an Ascii string along with the Url of the page being requested. As far as the application layer is concerned, the Get request is sent directly to its peer. At the other end, the Width Server application. The application doesn't need to know how the data got there or how many times it needed to be retransmitted. 
正如我们在上一个视频中看到的那样，应用程序通常需要两个端点之间的双向可靠字节流。它们可以发送任何所需的字节流，并且应用程序有自己的协议来定义两个端点之间数据流的语法和语义。例如，正如我们在上一个视频中所看到的，当web客户端从web服务器请求页面时，web客户端会发送一个Get请求。这是超文本传输协议或Http的命令之一。Http规定Get命令作为Ascii字符串与被请求页面的Url一起发送。就应用层而言，Get请求直接发送到其对等方。在另一端，是宽度服务器应用程序。应用程序不需要知道数据是如何到达那里的，或者需要重新传输多少次。


发言人   08:58
At the web client. The application layer ends the Get request to the TCP layer, which provides the service of making sure it is reliably delivered. It does this using the services of the network layer, which in turn uses the services of the link layer. 
在web客户端。应用层将获取请求结束给TCP层，后者提供服务以确保可靠地传递请求。它使用网络层的服务来做到这一点，网络层反过来使用链路层的服务。

发言人   09:10
We say that each layer communicates with its PO layer. It's as if each layer is only communicating with the same layer at the other end of the link or internet without regard for how the layer below gets the data there. Putting it all together, then, network engineers find it convenient to arrange all the functions that make up the internet into layers. 
我们说每一层都与其采购订单层通信。就好像每一层只与链接或互联网另一端的同一层通信，而不考虑下面的层如何在那里获取数据。然后，网络工程师发现将构成互联网的所有功能分层排列很方便。


发言人   09:32
At the top is the application, such as BitTorrent or Skype, or the World Wide Web, which talks to its peer layer at the destination when the application has data to send, it hands the data to the transport layer, which has the job of delivering the data reliably or not, to the other end. The transport layer sends data to the other end by handing it to the network layer, which has the job of breaking the data into packets, each with the correct destination address. Finally, the packets are handed to the link layer, which has the responsibility of delivering the packet from one Ho to the next along its path. The data makes its way hop by hop from 1 router to the next. The network layer forwards it to the next router, 1 at a time, until it reaches the destination. There, the data is passed up the layers until it reaches the application. So in summary applications, bidirectional reliable byte stream between applications typically, but not always. And they use application specific semantics, which we'll be learning about later, such as Http or BitTorrent. 
顶部是应用程序，例如BitTorrent或Skype，或万维网，当应用程序有数据要发送时，它会与目的地的对等层对话，然后将数据交给传输层，传输层负责可靠地提供数据，到另一端。传输层通过将数据交给网络层来将数据发送到另一端，网络层的工作是将数据分成多个数据包，每个数据包都有正确的目标地址。最后，数据包被传递给链路层，链路层负责将数据包沿着路径从一个Ho传递到下一个。数据从一个路由器逐跳到下一个路由器。网络层将其转发到下一台路由器，每次1台，直到到达目的地。在那里，数据被传递到各层，直到到达应用程序。因此，在摘要应用程序中，应用程序之间通常存在双向可靠的字节流，但并非总是如此。它们使用特定于应用程序的语义，我们稍后会学习，例如Http或BitTorrent。


发言人   10:29
The transport layer typically guarantees correct in order delivery of data end to end and controls congestion, although some applications don't need this. And so they can use a different transport layer instead. 
传输层通常保证端到端的数据按顺序正确交付并控制拥塞，尽管一些应用程序不需要这样做。因此他们可以使用不同的传输层。

发言人   10:40
The network layer delivers datagrams end to end. It's providing a best effort delivery service with no guarantees. We must use the Internet Protocol. The link layer delivers data over a single link between an end host and a router, or between two routers. 
网络层端到端地传递数据报。它提供了一个最好的交付服务，没有保证。我们必须使用互联网协议。链路层通过终端主机和路由器之间或两个路由器之间的单个链路传输数据。

发言人   10:56
There's two extra things I'd like you to know. The first is that IP is often referred to as the thin waste of the internet. This is because if we want to use the internet, we have to use the Internet protocol. We have no choice, but we have lots of choices for link layers, IP runs over many, many different link layers such as ethernet, WiFi, fi, DSL, 3G, cellular, and so on. And on top of the IP layer, we can choose between many different transport layers. We already heard about TCP and UDP. There's also RTP for real time data and many others too. And of course there are tens of thousands of different applications sitting on top. 
有两件额外的事情我想让你知道。第一个问题是IP通常被称为互联网的薄浪费。这是因为如果我们想要使用互联网，我们必须使用互联网协议。我们没有选择，但我们有很多链接层的选择，IP运行在许多不同的链接层上，如以太网、WiFi、fi、DSL、3g、蜂窝等等。在IP层的顶部，我们可以在许多不同的传输层之间进行选择。我们已经听说了TCP和UDP。还有实时数据和许多其他方面的RTP。当然，顶部有成千上万个不同的应用程序。



发言人   11:39
The second thing I want you to know is that in the 1980s, the International Standards Organization, or ISO, created a 7 layer model to represent any type of network. It was called the seven Layer Open Systems Interconnection, or Osi model. We don't need to spend any time on it in this course because it's been replaced by the four layer internet model for all inten and purposes. But if you're interested, you'll find any networking textbook. And Wikipedia describes the seven layers in lots and lots of detail. The 7 layer model defines layers that were combined in the 4 layer internet model later, for example, what we call the link. The link layer today was separated into the link layer that defined the framing format and the physical layer that defined things like the voltage levels on the cable or the physical dimensions of a connector. The network layer is pretty much the same in both models. 
我想让你知道的第二件事是，在1980年代，国际标准组织或ISO创建了一个7层模型来表示任何类型的网络。它被称为七层开放系统互连模型，或Osi模型。我们在这门课程中不需要花任何时间，因为它已经被四层互联网模型所取代。但如果你感兴趣，你会找到任何网络教科书。和维基百科对这七个层次进行了大量详细的描述。七层模型定义了后来在四层互联网模型中组合的层，例如，我们称之为链接。今天的链路层被分为定义成帧格式的链路层和定义电缆电压级别或连接器物理尺寸的物理层。这两种模型的网络层基本相同。


发言人   12:36
The transport and applications layer is each represented by two layers in the o.s.i. models. These are examples of commonly used Internet protocols, for example Http, which passes most of its data in the protocol in Ascii, and how they map to the Osi numbering scheme. 
传输层和应用程序层分别由o.s.i中的两层表示。 模型。这些是常用互联网协议的示例，例如Http，它在Ascii协议中传递大部分数据，以及它们如何映射到Osi编号方案。

发言人   12:56
Today, the only real legacy of the 7 layer Osi model that you need to know about is the numbering system. You'll often hear network engineers refer to the network layer as layer 3, even though it's the second layer from the bottom in the internet model. Similarly, you'll hear people refer to Ethernet as link layer 2, and you'll hear application referred to as layer 7. 
今天，您需要了解的7层Osi模型的唯一真正遗产是编号系统。你经常会听到网络工程师将网络层称为第3层，即使它是互联网模型底层的第二层。同样，你会听到人们将以太网称为链路层2，你会听到应用程序被称为层7。