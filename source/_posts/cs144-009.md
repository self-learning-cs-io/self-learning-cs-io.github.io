---
title: 计算机网络 009 Memory, Byte Order, and Packet Formats
date: 2025-10-19 10:00:08
---


发言人   00:00
For two parties to communicate, they need to agree on the message they exchange. If one party assumes messages are in Spanish and the other assumes they're in Cambodian, they will not be able to communicate. For computers, this means agreeing on what fields messages have, how they are arranged and formatted, and how they are represented to generate a message to send, software typically has to create a copy of it in memory, which then passes through the networking card. Similarly, when a computer receives a message, the networking card puts that message in memory, which the software can then access. Understanding how this works and some of the pitfalls you can encounter is important if you want to understand network protocols and write network protocol software. 
为了让两方沟通，他们需要就所交换的信息达成一致。如果一方假设信息是西班牙语，而另一方假设信息是在柬埔寨，他们将无法沟通。对于计算机来说，这意味着就消息的字段、它们的排列和格式以及如何表示以生成要发送的消息达成一致，软件通常必须在内存中创建消息的副本，然后通过网卡。类似地，当计算机收到消息时，网卡会将该消息放入内存中，软件随后可以访问该内存。如果您想了解网络协议并编写网络协议软件，了解其工作原理以及可能遇到的一些陷阱非常重要。

发言人   00:37
So let's start with a simple model of computer memory. In most computers today, memory is organized in terms of bytes, 8 b chunks of memory. A program has an address space starting at address 0. Most computers today are sixty-fourth s, this means that memory addresses are 64 b long, so computers up to 2 to the 64 B or 18 6 tillys bytes. In practice, computers today do not have this much memory, which is 2 to the 30. In this example, our computer has 8 GB of the memory, 8 GB of memory shown on the left, so its largest address is the hexadecimal value shown of 0x 0 2 0 0 0 0 0 0 0 0. Software can access each byte of this memory or access byte in groups such as loading a 64 b integer from 8 contiguous byte cells of memory in a single instruction. 
让我们从一个简单的计算机内存模型开始。在当今的大多数计算机中，内存是以字节为单位组织的，是8块内存。某个程序有一个从地址0开始的地址空间。今天的大多数计算机都是64位字节，这意味着内存地址的长度为64位字节，因此计算机最多为2到64位字节或18个6字节。在实践中，今天的计算机没有那么多的内存，即2的30。在这个例子中，我们的计算机有8 GB的内存，8 GB的内存显示在左边，所以它的最大地址是显示的十六进制值0x0 2 0。软件可以访问该内存的每个字节或分组访问字节，例如在一条指令中从8个连续字节的内存单元中加载64 b整数。

发言人   01:25
But how does a computer represent a multi-byte value? Let's say we want to represent the number 1024, which in hexadecimal 0x 0 4 0 0 or four times 256. This value requires 16 b or 2 B. Which byte comes first, 0, 0 0 or 0x 0 4? 
但是计算机如何表示多字节值？假设我们想表示数字1024，它的十六进制格式为0 x0 40或4乘以256。这个值需要16 b或2 B。哪个字节先出现，是0、0 0还是0 x0 4？

发言人   01:42
How you lay out a multi-byte value in memory is called Indianness, and there are two options in little Indian. The least significant byte is at the lowest address, so the least significant byte comes first in memory. It turns out that from a computational architectural standpoint, this can make the most sense. The other option is big endean, where the most significant byte is the lowest address. Big Indian makes more sense to a human reader reading left to right, because it's how we write numbers with the most significant digits first. 
如何在内存中布局多字节值被称为Indianness，在小印度语中有两个选项。最低有效字节位于最低地址，因此最低有效字节在内存中首先出现。事实证明，从计算架构的角度来看，这可以做出最大的感知。另一个选项是big endan，其中最高有效字节是最低地址。大印度语对于从左到右阅读的人类读者来说更感知，因为这是我们先用最重要的数字书写数字的方式。
