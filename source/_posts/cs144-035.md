---
title: 计算机网络 035 Principles Packet Switching Simple Queueing Model Example
date: 2025-10-19 10:00:34
---

发言人   00:00
The video included a quick worked example in case you found the example hard to follow. In this short video I'm going to explain the same example in more detail and ask a few more questions about that same example. 
视频包括一个快速工作的例子，以防你发现这个例子很难跟随。在这个简短的视频中，我将更详细地解释同一个例子，并提出几个关于同一个例子的问题。

发言人   00:12
Here's the question. At the start of every second, a train of 100 b arrive to a queue. At rate 1000 b per second. The departure rate from the queue is 500 b per second. The queue is served bit by bit, and you can assume that the buffer size is infinite. What is the average queue occupancy? 
问题来了。在每秒钟的开始，一列100 b的火车到达队列。以每秒1000 b的速率。从队列出发的速率是每秒500 b。队列是按位提供的，并且您可以假设缓冲区大小是无限的。队列的平均占用率是多少？


发言人   00:33
The cumulative arrival and departure processes will look like this First look at the cumulative arrivals A of T shown in red in the first one 10th of a second, 100 b will arrive at rate 1000 b per second. There are no more arrivals until one second, then a new hundred bits arrive. Now let's look at the departure process DFT shown in green as soon as the first train of bits starts to arrive at rate 1000 b per second, bits will start departing because the question says they are served bit by bit. If we had to wait for a whole packet to arrive, then the departure process would not start increasing, yet the bits take 0.2 seconds to depart because they depart at 500 b per second, which is half the rate at which new bits arrive. The queue therefore builds up with a peak after point one of a second. 
累积到达和离开过程将看起来像这样，首先看第一个10秒中以红色显示的T的累积到达人数，100 b将以每秒1000 b的速度到达。在一秒之前没有更多的到达，然后新的一百比特到达。现在让我们来看一下离开过程，当第一批位开始以每秒1000 b的速率到达时，绿色显示的DFT，位将开始离开，因为问题说它们是一点一点地提供的。如果我们必须等待整个数据包到达，那么离开过程不会开始增加，但位需要0.2秒才能离开，因为它们以每秒500字节的速度离开，这是新位到达速率的一半。因此，队列在一秒内逐渐形成一个高峰。

发言人   01:29
To answer the question, let's look at the occupancy of the QQ of t as a function of time. The Q occupancy is the vertical distance between A of t and d of t, it's simply the number of bits that have arrived up until this point minus those that have departed during the first 0.1 seconds. The queue builds up as new bits arrive to a peak of 50 b. During the first 0.2 seconds, the average occupancy is 25 b. Then the queue drains from 0.1 second to 0.2 seconds until it is empty and all the bits have departed. The queue is empty for 0.8 seconds and then the same process repeats. 
为了回答这个问题，让我们看一下t的QQ占用率作为时间的函数。Q占用是t的A和t的d之间的垂直距离，它只是到目前为止到达的位数减去在前0.1秒内离开的位数。当新的比特到达峰值50 b时，队列就会逐渐累积。在前0.2秒内，平均占用率为25 b。那么队列从0.1秒耗尽到0.2秒，直到它为空并且所有位都离开。队列为空0.8秒，然后重复相同的过程。

发言人   02:11
We can immediately calculate the time average occupancy of the queue. It spends 0.2 of a second with an average occupancy of 25 b and then 0.8 of a second with an occupancy of 0. The time average is therefore 5 b. 
我们可以立即计算队列的平均占用时间。它在平均占用为25 b的情况下花费0.2秒，然后在占用为0的情况下花费0.8秒。因此，时间平均值为5 b。

发言人   02:25
We've answered question A. The second question is, what is the average delay of a bit in the queue? Let's look at the evolution of A of t and d of t again. The delay seen by a bit arriving at time t is d of t, little d of t, the horizontal distance between the two lines. The first bit arriving at time 0 experiences no delay, whereas a bit arriving at point one of a second experiences a delay of 0.1 seconds. Notice that no more bits arrive after 0.1 seconds, so it makes no sense to consider the delay of a bit arriving between 0.1 of a second and 1.0 seconds. We're essentially conditioning the probability on a bit arriving, which only happens in the first point one of every second. Therefore, the average delay seen by a bit arriving to the queue is simply 0.05 seconds. 
我们已经回答了问题A。第二个问题是，队列中位的平均延迟是多少？让我们再看看t的A和t的d的演变。一位到达时间t的延迟是t的d，t的小d，两条线之间的水平距离。到达时间0的第一个位没有延迟，而到达一秒钟中的一点的位则有0.1秒的延迟。请注意，0.1秒后没有更多的位到达，因此考虑0.1秒到1.0秒之间的位到达延迟是没有感知的。我们基本上是在将概率限制在一个到达点，这只发生在第一个点的每一秒。因此，比特到达队列的平均延迟仅为0.05秒。



发言人   03:29
Question C, staying with the same cue. The third question is, if the trains of 100 b arrived at random intervals, 1 train per second on average, would the average key occupancy be the same, lower, or higher than in part A, the time average occupancy will be higher when two trains arrive deterministically. 
问题C，保持相同的线索。第三个问题是，如果100辆b的火车以随机间隔到达，平均每秒1辆，平均关键占用率会与A部分相同、更低或更高吗？当两辆火车确定地到达时，时间平均占用率会更高。


发言人   03:52
In part A, they never overlapped, and so there were never bits from two trains in the queue at the same time. But if they arrive randomly, we might have bits from two or more trains in the queue at the same time, pushing up the occupancy and hence the average occupancy. This might be surprising. So let's look at an example to see why this is true. Consider two cases. Case one is like part A, we assume the trains arrive randomly, but no two trains ever overlap. Just like in part A, they never overlapped. The average Q occupancy would be the same as before, which was 5 b. 
在某种程度上，它们从未重叠，因此队列中从未同时有两列火车的比特。但如果它们随机到达，我们可能同时在队列中看到来自两辆或更多列车的比特，从而推高了占用率，从而推高了平均占用率。这可能会令人惊讶。让我们看一个例子来看看为什么这是真的。考虑两个案例。第一种情况就像A部分一样，我们假设火车随机到达，但没有两辆火车重叠。就像在A部分一样，它们从未重叠。平均Q占用将与之前相同，即5 b。


发言人   04:33
As soon as two trains overlap even once, the average will increase. To see why, consider the example here. The red line shows the Q occupancy of one train, which we assume arrives at time 0. Let's say the second train arrives at time 0.1 second, just when the queue has 50 b in it. Still, from the first train, the queue will keep growing because bits are arriving twice as fast as they are leaving, the queue won't drain. And until 0.4 seconds, if this happened every two seconds, the arrival rate would be the same as before, but the time average q occupancy would now be as follows for 0.4 of a second, the time average occupancy is 50 b. Then for 1.6 seconds, it's empty. 
一旦两列火车重叠，即使是一次，平均值也会增加。要了解原因，请考虑这里的例子。红线显示了一列火车的Q占用率，我们假设它到达时间为0。假设第二列火车在0.1秒到达，正好队列中有50个b。然而，从第一轮训练开始，队列将继续增长，因为比特到达的速度是它们离开的两倍，队列不会耗尽。直到0.4秒之前，如果这种情况每两秒发生一次，到达率将与之前相同，但现在的时间平均占用率将如下0.4秒，时间平均占用率为50 b。然后持续1.6秒，它是空的。

发言人   05:21
To get the time average, we divide by two seconds. The time average occupancy is 10 b, which is double what it was before. Why is that? It's because the cue only drains at 500 b per second, and so not only does it fill to twice as much as before, it also takes twice as long to drain the triangle showing when the queue is non empty has four times the area as before. 
为了得到时间平均值，我们除以两秒。平均入住率为10 b，是之前的两倍。为什么？这是因为提示只会以每秒500 b的速度消耗，因此它不仅填充了以前的两倍，而且需要两倍的时间来耗尽队列非空时显示的三角形，其面积是以前的四倍。


发言人   05:50
The fourth part of the question is if the departing bits from the queue are fed into a second identical queue with the same departure rate, what is the average occupancy of the second queue? The second queue will have bits arrive at 500 b per second, and the bits will depart at 500 b per second. In other words, it will never accumulate bits and will always be empty. 
问题的第四部分是，如果队列中的偏离位被输入到具有相同偏离率的第二个相同队列中，那么第二个队列的平均占用率是多少？第二个队列的位数将达到每秒500 b，而位数将以每秒500 b的速度离开。换句话说，它永远不会累积位，并且始终为空。
