---
title: 计算机网络 041 Packet Switching Guaranteed Delay Example
date: 2025-10-19 10:00:40
---


发言人   00:02
Let's look at a worked example for delay guarantees. Two end hosts are separated by three routers and 4 250K links running at 100 Mb per second. The end hosts want to send a flow of 1500 B packets to each other at 15 Mb per second, but they don't want their packets to take more than 10 milliseconds to go from end to end. If each router serves the flow at 15 Mb per second, how long will packets be laid in each router? 
让我们看一个延迟保证的工作示例。两台终端主机被三个路由器和4个250k链路分开，以每秒100 MB的速度运行。终端主机希望以每秒15 Mb的速度互相发送1500个B的数据包，但是他们不希望他们的数据包从一个端传输到另一个端需要超过10毫秒的时间。如果每个路由器以每秒15 Mb的流量提供服务，则数据包在每个路由器中会放置多长时间？

发言人   00:32
We can assume a propagation speed of two times 10 to the 8 m per second, and that the queueing delay is evenly distributed among the routers. We know that a third of the queueing delay will be in each of the routers. So first we need to figure out what the queueing delay is. The queueing delay will be the total delay, which is 10 milliseconds, minus the fixed delay, which is the sum of the packetization delay and the propagation delay. 
我们可以假设传播速度为两倍10的8米每秒，并且排队延迟在路由器之间均匀分布。我们知道三分之一的排队延迟将在每台路由器中。所以首先我们需要弄清楚排队延迟是什么。排队延迟将是总延迟，即10毫秒，减去固定延迟，固定延迟是打包延迟和传播延迟的总和。

发言人   01:00
So let's first calculate the packetization delay, which is the time to transmit a 1500 B packet onto each of the four links along the path. For each link, the packetization delay is 1500 B times 8 b per byte divided by 100 Mb per second, or 10 to the power of 8. This gives us a total packetization delay of 0.48 milliseconds. 
因此，让我们首先计算数据包化延迟，即将1500 B的数据包传输到路径上的四个链路中的每个链路的时间。对于每个链路，数据包化延迟为1500 b乘以8 b每字节除以100 mb每秒，即10的8次方。这给了我们0.48毫秒的总数据包化延迟。

发言人   01:26
Now let's calculate the propagation delay, which is the time taken for 1 b to tra all four links. The time for each link is 250 km times 1000 met per kilome divided by the speed of propagation. The total time will be 5 milliseconds across all four links, so our total fixed delay is therefore 5.48 milliseconds. This means the queueing delay is 10 -5.48 equals 4.52 milliseconds, which we are told is divided equally among the three routers. Therefore, the queueing delay in each router can be no more than 1.507 milliseconds. The answer is therefore 1.5507 milliseconds of delay per router. We could go on and calculate the amount of buffering needed in each router to hold 1.507 millisecond of data, given that the queue is being served at 15 Mb per second, this corresponds to 1.507 milliseconds times 15 Mb per second, which is 22605 b. In practice, we'd round this up to at least two packets, which is 24000 b per router. 
现在让我们计算传播延迟，即1 b对所有四个链路进行中继所需的时间。每个链路的时间是250公里乘以每公里1000次相遇除以传播速度。所有四个链路的总时间将为5毫秒，因此我们的总固定延迟为5.48毫秒。这意味着排队延迟是10 -5.48等于4.52毫秒，我们被告知会在三个路由器之间平均分配。因此，每个路由器的排队延迟不能超过1.507毫秒。因此，答案是每台路由器的延迟为1.5507毫秒。我们可以继续计算每个路由器中保存1.507毫秒数据所需的缓冲区量，假设队列以每秒15 Mb的速度提供服务，这相当于每秒1.507毫秒乘以15 Mb，即22605 b。在实践中，我们会将其四舍五入到至少两个数据包，即每个路由器24000 b。